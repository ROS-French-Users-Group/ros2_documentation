<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Guide du développeur ROS 2 &mdash; Documentation ROS 2 documentation </title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/The-ROS2-Project/Contributing/Developer-Guide.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Style de code et versions linguistiques" href="Code-Style-Language-Versions.html" />
    <link rel="prev" title="Contribuant" href="../Contributing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Ubuntu-Install-Debians.html">Ubuntu (Debian)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Windows-Install-Binary.html">Windows (binaire)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/RHEL-Install-RPMs.html">RHEL (RPM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Alternatives.html">Alternatives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Ubuntu-Development-Setup.html">gratuit (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Ubuntu-Install-Binary.html">gratuit (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Windows-Development-Setup.html">Windows (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/RHEL-Development-Setup.html">RHEL (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/RHEL-Install-Binary.html">RHEL (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/macOS-Development-Setup.html">mac OS (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Fedora-Development-Setup.html">Fedora (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Latest-Development-Setup.html">Dernier développement (source)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Maintaining-a-Source-Checkout.html">Maintenir la vérification de la source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Testing.html">Tester avec des binaires de pré-version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/DDS-Implementations.html">Implémentations DDS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Plugins de sécurité Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connect DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Éclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">DDS rapide eProsima</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Releases.html">Distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Humble-Hawksbill.html">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Humble-Hawksbill-Complete-Changelog.html">Journal des modifications de Humble Hawksbill</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Rolling-Ridley.html">Rouler Ridley (<code class="docutils literal notranslate"><span class="pre">rouler</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Development.html">Développement Répartition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Iron-Irwini.html">ROS 2 Iron Irwini (nom de code “iron”; mai 2023)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/End-of-Life.html">Distributions en fin de vie</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Galactic-Geochelone.html">Géochelone Galactique (<code class="docutils literal notranslate"><span class="pre">galactique</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Releases/Galactic-Geochelone-Complete-Changelog.html">Journal des modifications de Galactic Geochelone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Eloquent-Elusor.html">Eloquent Elusor (``éloquent””)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Dashing-Diademata.html">Dashing Diademata (<code class="docutils literal notranslate"><span class="pre">fringant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Crystal-Clemmys.html">Cristal Clemmys (<code class="docutils literal notranslate"><span class="pre">cristal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Bouncy-Bolson.html">Bouncy Bolson (<code class="docutils literal notranslate"><span class="pre">rebondissant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Ardent-Apalone.html">Apalone ardent (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta3-Overview.html">Bêta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta2-Overview.html">Bêta 2 (<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta1-Overview.html">Bêta 1 (<code class="docutils literal notranslate"><span class="pre">Asphalte</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Alpha-Overview.html">Alphas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Process.html">Processus de développement d’une version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorials.html">Tutoriels</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools.html">Débutant : outils CLI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html">Configuration de l’environnement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">Utiliser <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code> et <code class="docutils literal notranslate"><span class="pre">rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">Comprendre les nœuds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">Comprendre les sujets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">Comprendre les services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">Comprendre les paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">Comprendre les actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> pour afficher les journaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">Nœuds de lancement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">Enregistrement et lecture de données</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries.html">Débutant : Bibliothèques clientes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html">Utiliser <code class="docutils literal notranslate"><span class="pre">colcon</span></code> pour créer des packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">Créer un espace de travail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">Création d’un paquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">Ecrire un service et un client simples (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">Écrire un service et un client simples (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">Création de fichiers msg et srv personnalisés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">Implémentation d’interfaces personnalisées</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">Utiliser des paramètres dans une classe (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">Utiliser des paramètres dans une classe (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">Utiliser <code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> pour identifier les problèmes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Pluginlib.html">Créer et utiliser des plugins (C++)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Tutorials/Intermediate.html">Intermédiaire</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Rosdep.html">Gestion des dépendances avec rosdep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Creating-an-Action.html">Créer une action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Writing-an-Action-Server-Client/Cpp.html">Ecriture d’un serveur d’action et d’un client (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Writing-an-Action-Server-Client/Py.html">Ecriture d’un serveur d’action et d’un client (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Composition.html">Composer plusieurs nœuds en un seul processus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Monitoring-For-Parameter-Changes-CPP.html">Surveillance des changements de paramètres (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Launch/Launch-Main.html">Lancement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Launch/Creating-Launch-Files.html">Création d’un fichier de lancement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Launch/Launch-system.html">Intégration des fichiers de lancement dans les packages ROS 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Launch/Using-Substitutions.html">Utiliser des substitutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Launch/Using-Event-Handlers.html">Utilisation des gestionnaires d’événements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">Gestion de grands projets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Tf2-Main.html">tracé</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Introduction-To-Tf2.html">Présentation de <code class="docutils literal notranslate"><span class="pre">tf2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">Écrire un diffuseur statique (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">Écrire un diffuseur statique (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">Écrire un diffuseur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">Ecrire un diffuseur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">Écrire un écouteur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">Écrire un écouteur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Adding-A-Frame-Py.html">Ajouter un cadre (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Adding-A-Frame-Cpp.html">Ajouter un cadre (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">Utiliser le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">Utilisation du temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">Voyager dans le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">Voyager dans le temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Debugging-Tf2-Problems.html">Débogage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Quaternion-Fundamentals.html">Fondamentaux du quaternion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">Utiliser des types de données tamponnés avec <code class="docutils literal notranslate"><span class="pre">tf2_ros::MessageFilter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/Testing/Testing-Main.html">Essai</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Testing/CLI.html">Exécution de tests dans ROS 2 à partir de la ligne de commande</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/Testing/Python.html">Écrire des tests de base avec Python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Intermediate/URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">Construire un modèle de robot visuel à partir de zéro</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">Construire un modèle de robot mobile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">Ajout de propriétés physiques et de collision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">Utiliser Xacro pour nettoyer votre code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">Utiliser URDF avec <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Tutorials/Advanced.html">Avancé</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">Activation des statistiques de sujet (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Discovery-Server/Discovery-Server.html">Utilisation de Fast DDS Discovery Server comme protocole de découverte [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Allocator-Template-Tutorial.html">Implémentation d’un répartiteur de mémoire personnalisé</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/FastDDS-Configuration.html">Libérer le potentiel du middleware Fast DDS [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">Enregistrer un sac à partir d’un nœud (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">Enregistrer un sac à partir d’un nœud (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Simulators/Simulation-Main.html">Simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Simulators/Webots.html">Mise en place d’une simulation de robot (Webots)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Simulators/Gazebo.html">Mise en place d’une simulation de robot (Gazebo)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Advanced/Security/Security-Main.html">Sécurité</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Security/Introducing-ros2-security.html">Mise en place de la sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Security/The-Keystore.html">Comprendre le magasin de clés de sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Security/Security-on-Two.html">Garantir la sécurité sur toutes les machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Security/Examine-Traffic.html">Examen du trafic réseau</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Tutorials/Advanced/Security/Access-Controls.html">Paramétrage des contrôles d’accès</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Tutorials/Demos.html">Démos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Quality-of-Service.html">Utilisation des paramètres de qualité de service pour les réseaux avec perte</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Managed-Nodes.html">Gestion des nœuds avec des cycles de vie gérés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Intra-Process-Communication.html">Mettre en place une communication intra-process efficace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Rosbag-with-ROS1-Bridge.html">Enregistrement et lecture de données avec <code class="docutils literal notranslate"><span class="pre">rosbag</span></code> en utilisant le pont ROS 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Real-Time-Programming.html">Comprendre la programmation temps réel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/dummy-robot-demo.html">Expérimenter avec un robot factice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Logging-and-logger-configuration.html">Enregistrement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Demos/Content-Filtering-Subscription.html">Création d’un abonnement au filtrage de contenu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Tutorials/Miscellaneous.html">Divers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">Déploiement sur IBM Cloud Kubernetes [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Utiliser Eclipse Oxygen avec <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> [community-contributed]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Construire un noyau Linux en temps réel [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tutorials/Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">Construire un package avec Eclipse 2021-06</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../How-To-Guides.html">Guides pratiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Installation-Troubleshooting.html">Dépannage de l’installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Developing-a-ROS-2-Package.html">Développement d’un package ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Ament-CMake-Documentation.html">documentation utilisateur ament_cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Ament-CMake-Python-Documentation.html">documentation utilisateur ament_cmake_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launch-files-migration-guide.html">Migration des fichiers de lancement de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launch-file-different-formats.html">Utilisation de Python, XML et YAML pour les fichiers de lancement ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launching-composable-nodes.html">Utilisation du lancement de ROS 2 pour lancer des nœuds composables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Parameters-YAML-files-migration-guide.html">Migration des fichiers de paramètres YAML de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Node-arguments.html">Passer des arguments ROS aux nœuds via la ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Sync-Vs-Async.html">Clients de service synchrones ou asynchrones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/DDS-tuning.html">Informations de réglage DDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2 : Remplacement des politiques de QoS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Working-with-multiple-RMW-implementations.html">Travailler avec plusieurs implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Cross-compilation.html">Compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Releasing/Releasing-a-Package.html">Libérer un paquet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/First-Time-Release.html">Première sortie</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Subsequent-Releases.html">Versions ultérieures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Release-Team-Repository.html">Équipe de publication / Référentiel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Release-Track.html">Piste de sortie</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-Python-Packages.html">Utilisation de packages Python avec ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/RQt-Port-Plugin-Windows.html">Portage des plugins RQt vers Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">Exécution de nœuds ROS 2 dans Docker [contribution de la communauté]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html">Visualiser les données ROS 2 avec Foxglove Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Package-maintainer-guide.html">Guide du responsable du paquet ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Building-a-Custom-Debian-Package.html">Construire un paquet Debian personnalisé</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Building-ROS-2-with-Tracing-Instrumentation.html">Construire ROS 2 avec instrumentation de traçage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Topics-Services-Actions.html">Sujets vs Services vs Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-Variants.html">Utiliser des variantes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-ros2-param.html">Utilisation de l’outil de ligne de commande <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> avec ROS en amont sur Ubuntu 22.04</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html">Désactivation des messages prêtés sans copie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Installing-on-Raspberry-Pi.html">ROS 2 sur Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-callback-groups.html">Utilisation des groupes de rappel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install.html">Construire RQt à partir de la source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install-MacOS.html">Construire RQt à partir de la source sur macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install-Windows10.html">Construire RQt à partir de la source sur Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Concepts.html">Notions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Domain-ID.html">Le ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Different-Middleware-Vendors.html">À propos des différents fournisseurs ROS 2 DDS/RTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Logging.html">À propos de la journalisation et de la configuration de l’enregistreur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Quality-of-Service-Settings.html">À propos des paramètres de qualité de service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-Interfaces.html">À propos des interfaces ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Parameters.html">À propos des paramètres dans ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Executors.html">Exécuteurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Topic-Statistics.html">À propos des statistiques de sujet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Command-Line-Tools.html">Introspection avec des outils en ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-RQt.html">Présentation et utilisation de RQt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Composition.html">À propos de la composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Catment.html">Sur le mélange d’ament et de chaton (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Cross-Compilation.html">À propos de la compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Security.html">À propos de la sécurité ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Tf2.html">À propos de TF2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Build-System.html">À propos du système de construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Internal-Interfaces.html">À propos des interfaces ROS 2 internes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Middleware-Implementations.html">À propos des implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Contact.html">Contacter</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../The-ROS2-Project.html">Le projet ROS 2</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../Contributing.html">Contribuant</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Guide du développeur ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="Code-Style-Language-Versions.html">Style de code et versions linguistiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="Quality-Guide.html">Guide qualité : assurer la qualité du code</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migration-Guide.html">Guide de migration depuis ROS 1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Migration-Guide-Python.html">Guide de migration Python depuis ROS 1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Build-Farms.html">Fermes de construction ROS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Windows-Tips-and-Tricks.html">Trucs et astuces Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="Contributing-To-ROS-2-Documentation.html">Contribuer à la documentation ROS 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Features.html">Statut des fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Feature-Ideas.html">Idées de fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Roadmap.html">Feuille de route</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ROSCon-Content.html">Pourparlers ROSCon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance.html">Gouvernance du projet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Governance/ROS2-TSC-Charter.html">Charte du comité de pilotage technique ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Governance/ROS2-TSC-Intake-process.html">Processus d’admission des candidats ROS 2 TSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Governance/How-To-Start-A-Community-Working-Group.html">Comment démarrer un groupe de travail communautaire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Marketing.html">Commercialisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Related-Projects.html">Projets liés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Related-Projects/Intel-ROS2-Projects.html">Projets Intel ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Related-Projects/Nvidia-ROS2-Projects.html">Projets NVIDIA ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Citations.html">Citations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../The-ROS2-Project.html">Le projet ROS 2</a></li>
          <li class="breadcrumb-item"><a href="../Contributing.html">Contribuant</a></li>
      <li class="breadcrumb-item active">Guide du développeur ROS 2</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/rolling/source/The-ROS2-Project/Contributing/Developer-Guide.rst" class="fa fa-github"> Éditer sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="ros-2-developer-guide">
<h1>Guide du développeur ROS 2<a class="headerlink" href="#ros-2-developer-guide" title="Lien permanent vers ce titre"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table des matières</p>
<ul class="simple">
<li><p><a class="reference internal" href="#general-principles" id="id2">Principes généraux</a></p></li>
<li><p><a class="reference internal" href="#quality-practices" id="id3">Pratiques de qualité</a></p>
<ul>
<li><p><a class="reference internal" href="#versioning" id="id4">Gestion des versions</a></p></li>
<li><p><a class="reference internal" href="#change-control-process" id="id5">Changer le processus de contrôle</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id6">Documentation</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id7">Essai</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#general-practices" id="id8">Pratiques générales</a></p>
<ul>
<li><p><a class="reference internal" href="#issues" id="id9">Questions</a></p></li>
<li><p><a class="reference internal" href="#branches" id="id10">Branches</a></p></li>
<li><p><a class="reference internal" href="#pull-requests" id="id11">Demandes d’extraction</a></p></li>
<li><p><a class="reference internal" href="#library-versioning" id="id12">Gestion des versions de la bibliothèque</a></p></li>
<li><p><a class="reference internal" href="#development-process" id="id13">Processus de développement</a></p></li>
<li><p><a class="reference internal" href="#changes-to-rmw-api" id="id14">Modifications de l’API RMW</a></p></li>
<li><p><a class="reference internal" href="#tracking-tasks" id="id15">Suivi des tâches</a></p></li>
<li><p><a class="reference internal" href="#programming-conventions" id="id16">Conventions de programmation</a></p></li>
<li><p><a class="reference internal" href="#filesystem-layout" id="id17">Disposition du système de fichiers</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#developer-workflow" id="id18">Flux de travail du développeur</a></p></li>
<li><p><a class="reference internal" href="#architectural-development-practices" id="id19">Pratiques de développement architectural</a></p>
<ul>
<li><p><a class="reference internal" href="#software-development-lifecycle" id="id20">Cycle de vie du développement logiciel</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#build-farm-introduction" id="id21">Construire une introduction à la ferme</a></p>
<ul>
<li><p><a class="reference internal" href="#note-on-coverage-runs" id="id22">Remarque sur les courses de couverture</a></p></li>
<li><p><a class="reference internal" href="#how-to-read-the-coverage-rate-from-the-buildfarm-report" id="id23">Comment lire le taux de couverture à partir du rapport buildfarm</a></p></li>
<li><p><a class="reference internal" href="#how-to-calculate-the-coverage-rate-from-the-buildfarm-report" id="id24">Comment calculer le taux de couverture à partir du rapport buildfarm</a></p></li>
<li><p><a class="reference internal" href="#how-to-measure-coverage-locally-using-lcov-ubuntu" id="id25">Comment mesurer la couverture localement à l’aide de lcov (Ubuntu)</a></p></li>
</ul>
</li>
</ul>
</div>
<p>Cette page définit les pratiques et politiques que nous employons lors du développement de ROS 2.</p>
<div class="section" id="general-principles">
<h2><a class="toc-backref" href="#id2">Principes généraux</a><a class="headerlink" href="#general-principles" title="Lien permanent vers ce titre"></a></h2>
<p>Certains principes sont communs à tous les développements ROS 2 :</p>
<ul class="simple">
<li><p><strong>Propriété partagée</strong> : toute personne travaillant sur ROS 2 doit se sentir propriétaire de toutes les parties du système. L’auteur original d’un morceau de code n’a aucune permission ou obligation spéciale de contrôler ou de maintenir ce morceau de code. Chacun est libre de proposer des modifications n’importe où, de gérer n’importe quel type de ticket et d’examiner n’importe quelle pull request.</p></li>
<li><p><strong>Être prêt à travailler sur n’importe quoi</strong> : en corollaire de la propriété partagée, tout le monde doit être prêt à assumer n’importe quelle tâche disponible et à contribuer à n’importe quel aspect du système.</p></li>
<li><p><strong>Demandez de l’aide</strong> : si vous rencontrez des problèmes avec quelque chose, demandez de l’aide à vos collègues développeurs, via des tickets, des commentaires ou des e-mails, selon le cas.</p></li>
</ul>
</div>
<div class="section" id="quality-practices">
<h2><a class="toc-backref" href="#id3">Pratiques de qualité</a><a class="headerlink" href="#quality-practices" title="Lien permanent vers ce titre"></a></h2>
<p>Les packages peuvent être attribués à différents niveaux de qualité en fonction des pratiques de développement auxquelles ils adhèrent, conformément aux directives de <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004 : Package Quality Categories</a> . Les catégories se différencient par leurs politiques en matière de gestion des versions, de test, de documentation, etc.</p>
<p>Les sections suivantes sont les règles de développement spécifiques que nous suivons pour garantir que les packages de base sont de la plus haute qualité (« Niveau 1 »). Nous recommandons à tous les développeurs ROS de s’efforcer de respecter les politiques suivantes pour garantir la qualité dans l’ensemble de l’écosystème ROS.</p>
<div class="section" id="versioning">
<span id="semver"></span><h3><a class="toc-backref" href="#id4">Gestion des versions</a><a class="headerlink" href="#versioning" title="Lien permanent vers ce titre"></a></h3>
<p>Nous utiliserons les <a class="reference external" href="http://semver.org/">Semantic Versioning guidelines</a> (<code class="docutils literal notranslate"><span class="pre">semver</span></code>) pour la gestion des versions.</p>
<p>Nous respecterons également certaines règles spécifiques à ROS construites au-dessus de la signification complète de <code class="docutils literal notranslate"><span class="pre">semver</span></code> :</p>
<ul class="simple">
<li><p>Les incréments de version majeurs (c’est-à-dire les changements de rupture) ne doivent pas être effectués dans une distribution ROS publiée.</p>
<ul>
<li><p>Les correctifs (préservant l’interface) et les incréments de version mineurs (sans rupture) ne rompent pas la compatibilité, donc ces types de modifications <em>sont</em> autorisées dans une version.</p></li>
<li><p>Les versions majeures de ROS sont le meilleur moment pour publier des changements de rupture. Si un package de base nécessite plusieurs changements avec rupture, ils doivent être fusionnés dans leur branche d’intégration (par exemple, roulement) pour permettre de détecter rapidement les problèmes dans CI, mais publiés ensemble pour réduire le nombre de versions majeures pour les utilisateurs de ROS.</p></li>
<li><p>Bien que les incréments majeurs nécessitent une nouvelle distribution, une nouvelle distribution ne nécessite pas nécessairement une bosse majeure (si le développement et la publication peuvent se produire sans casser l’API).</p></li>
</ul>
</li>
<li><p>Pour le code compilé, l’ABI est considérée comme faisant partie de l’interface publique. Toute modification nécessitant la recompilation du code dépendant est considérée comme majeure (rupture).</p>
<ul>
<li><p>Les changements de rupture d’ABI * peuvent * être apportés dans une version mineure * avant * une version de distribution (ajoutée à la version continue).</p></li>
</ul>
</li>
<li><p>Nous appliquons la stabilité de l’API pour les packages de base dans Dashing et Eloquent même si leurs principaux composants de version sont <code class="docutils literal notranslate"><span class="pre">0</span></code>, malgré la spécification de <a class="reference external" href="https://semver.org/#spec-item-4">SemVer</a> concernant le développement initial.</p>
<ul>
<li><p>Par la suite, les paquets doivent s’efforcer d’atteindre un état mature et passer à la version <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> afin de correspondre aux spécifications de <code class="docutils literal notranslate"><span class="pre">semver</span></code>.</p></li>
</ul>
</li>
</ul>
<div class="section" id="caveats">
<h4>Mises en garde<a class="headerlink" href="#caveats" title="Lien permanent vers ce titre"></a></h4>
<p>Ces règles sont * au mieux <a href="#id1"><span class="problematic" id="id2">*</span></a>. Dans des cas extrêmes peu probables, il peut être nécessaire de casser l’API dans une version/distribution majeure. Le fait qu’une pause imprévue incrémente la version majeure ou mineure sera évalué au cas par cas.</p>
<p>Par exemple, considérons une situation impliquant une tortue X publiée, correspondant à la version majeure <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>, et une tortue Y publiée, correspondant à la version majeure <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code>.</p>
<p>Si un correctif de rupture d’API est identifié comme étant absolument nécessaire dans X-turtle, le passage à <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> n’est évidemment pas une option car <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> existe déjà.</p>
<p>Les solutions pour gérer la version de X-turtle dans un tel cas, toutes deux non idéales, sont :</p>
<ol class="arabic simple">
<li><p>Version mineure de Bumping X-turtle : non idéale car elle viole le principe de SemVer selon lequel les changements de rupture doivent remplacer la version majeure.</p></li>
<li><p>Faire passer la version majeure de X-turtle au-delà de Y-turtle (à `` 3.0.0``): non idéal car la version de l’ancienne distribution deviendrait supérieure à la version déjà disponible d’une distribution plus récente, ce qui invaliderait / casserait la version- code conditionnel spécifique.</p></li>
</ol>
<p>Le développeur devra décider quelle solution utiliser ou, plus important encore, quel principe il est prêt à enfreindre. Nous ne pouvons pas suggérer l’un ou l’autre, mais dans les deux cas, nous exigeons que des mesures explicites soient prises pour communiquer manuellement la perturbation et son explication aux utilisateurs (au-delà de l’incrément de version).</p>
<p>S’il n’y avait pas de Y-turtle, même si le correctif ne serait techniquement qu’un patch, X-turtle devrait passer à <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code>. Ce cas adhère à SemVer, mais enfreint notre propre règle selon laquelle les incréments majeurs ne doivent pas être introduits dans une distribution publiée.</p>
<p>C’est pourquoi nous considérons les règles de versioning <em>best-effort</em>. Aussi improbables que soient les exemples ci-dessus, il est important de définir avec précision notre système de gestion des versions.</p>
</div>
<div class="section" id="public-api-declaration">
<h4>Déclaration d’API publique<a class="headerlink" href="#public-api-declaration" title="Lien permanent vers ce titre"></a></h4>
<p>Selon <code class="docutils literal notranslate"><span class="pre">semver</span></code>, chaque paquet doit clairement déclarer une API publique. Nous utiliserons la section « Public API Declaration » de la déclaration de qualité d’un package pour déclarer quels symboles font partie de l’API publique.</p>
<p>Pour la plupart des packages C et C++, la déclaration est n’importe quel en-tête qu’il installe. Cependant, il est acceptable de définir un ensemble de symboles considérés comme privés. Éviter les symboles privés dans les en-têtes peut aider à la stabilité de l’ABI, mais n’est pas obligatoire.</p>
<p>Pour d’autres langages comme Python, une API publique doit être explicitement définie, de sorte qu’il soit clair sur quels symboles on peut s’appuyer en ce qui concerne les directives de version. L’API publique peut également être étendue pour créer des artefacts tels que des variables de configuration, des fichiers de configuration CMake, etc., ainsi que des exécutables, des options et des sorties de ligne de commande. Tous les éléments de l’API publique doivent être clairement indiqués dans la documentation du package. Si quelque chose que vous utilisez n’est pas explicitement répertorié dans le cadre de l’API publique dans la documentation du package, vous ne pouvez pas vous attendre à ce qu’il ne change pas entre les versions mineures ou correctives.</p>
</div>
<div class="section" id="deprecation-strategy">
<h4>Stratégie d’abandon<a class="headerlink" href="#deprecation-strategy" title="Lien permanent vers ce titre"></a></h4>
<p>Dans la mesure du possible, nous utiliserons également la stratégie de dépréciation et de migration tic-tac pour les incréments de version majeurs. De nouvelles dépréciations viendront dans une nouvelle version de distribution, accompagnées d’avertissements du compilateur indiquant que la fonctionnalité est obsolète. Dans la prochaine version, la fonctionnalité sera complètement supprimée (pas d’avertissement).</p>
<p>Exemple de fonction <code class="docutils literal notranslate"><span class="pre">foo</span></code> obsolète et remplacée par la fonction <code class="docutils literal notranslate"><span class="pre">bar</span></code> :</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Version</p></th>
<th class="head"><p>API</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>X-tortue</p></td>
<td><p>void foo();</p></td>
</tr>
<tr class="row-odd"><td><p>Y-tortue</p></td>
<td><p>[[deprecated(« use bar() »)]] void foo(); &lt;br&gt; void bar();</p></td>
</tr>
<tr class="row-even"><td><p>Z-tortue</p></td>
<td><p>barre vide();</p></td>
</tr>
</tbody>
</table>
<p>Nous ne devons pas ajouter de dépréciations après la sortie d’une distribution. Cependant, les dépréciations ne nécessitent pas nécessairement un changement de version majeur. Une dépréciation peut être introduite dans un bump de version mineure si le bump se produit avant la sortie de la distribution (similaire aux changements de rupture d’ABI).</p>
<p>Par exemple, si X-turtle commence son développement en tant que <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code>, une dépréciation peut être ajoutée dans <code class="docutils literal notranslate"><span class="pre">2.1.0</span></code> avant la sortie de X-turtle.</p>
<p>Nous essaierons de maintenir autant que possible la compatibilité entre les distributions. Cependant, comme les mises en garde associées à SemVer, le tic-tac ou même la dépréciation en général peuvent être impossibles à respecter complètement dans certains cas.</p>
</div>
</div>
<div class="section" id="change-control-process">
<h3><a class="toc-backref" href="#id5">Changer le processus de contrôle</a><a class="headerlink" href="#change-control-process" title="Lien permanent vers ce titre"></a></h3>
<ul class="simple">
<li><p>Toutes les modifications doivent passer par une pull request.</p></li>
<li><p>Nous appliquerons le <a class="reference external" href="https://developercertificate.org/">Certificat d’origine du développeur (DCO)</a> sur les demandes d’extraction dans les référentiels ROSSore.</p>
<ul>
<li><p>Il exige que tous les messages de commit contiennent la ligne <code class="docutils literal notranslate"><span class="pre">Signed-off-by</span></code> avec une adresse e-mail qui correspond à l’auteur du commit.</p></li>
<li><p>Vous pouvez passer <code class="docutils literal notranslate"><span class="pre">-s</span></code> / <code class="docutils literal notranslate"><span class="pre">--signoff</span></code> à l’invocation <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> ou écrire le message attendu manuellement (par exemple <code class="docutils literal notranslate"><span class="pre">Signed-off-by:</span> <span class="pre">Your</span> <span class="pre">Name</span> <span class="pre">Developer</span> <span class="pre">&lt;your.name&#64;</span> <span class="pre">exemple.com&gt;</span></code>).</p></li>
<li><p>DCO n’est <em>pas</em> requis pour les demandes d’extraction qui traitent uniquement de la suppression des espaces blancs, de la correction des fautes de frappe et d’autres <a class="reference external" href="http://cr.openjdk.java.net/~jrose/draft/trivial-fixes.html">modifications triviales</a>.</p></li>
</ul>
</li>
<li><p>Exécutez toujours les travaux CI pour toutes les <a class="reference external" href="https://www.ros.org/reps/rep-2000.html#support-tiers">plates-formes de niveau 1</a> pour chaque demande d’extraction et incluez des liens vers les travaux dans la demande d’extraction. (Si vous n’avez pas accès aux travaux Jenkins, quelqu’un les déclenchera pour vous.)</p></li>
<li><p>Un minimum d’une approbation d’un autre développeur qui n’est pas l’auteur de la demande d’extraction est nécessaire pour la considérer comme approuvée. L’approbation est requise avant la fusion.</p>
<ul>
<li><p>Les forfaits peuvent choisir d’augmenter ce nombre.</p></li>
</ul>
</li>
<li><p>Toute modification requise de la documentation (documentation de l’API, documentation des fonctionnalités, notes de version, etc.) doit être proposée avant de fusionner les modifications associées.</p></li>
</ul>
<div class="section" id="guidelines-for-backporting-prs">
<h4>Lignes directrices pour le rétroportage des PR<a class="headerlink" href="#guidelines-for-backporting-prs" title="Lien permanent vers ce titre"></a></h4>
<p>Lors de la modification d’une ancienne version de ROS :</p>
<ul class="simple">
<li><p>Assurez-vous que les fonctionnalités ou les correctifs sont acceptés et fusionnés dans la branche roulante avant d’ouvrir un PR pour rétroporter les modifications vers les anciennes versions.</p></li>
<li><p>Lors de la rétroportation vers des versions plus anciennes, envisagez également de rétroporter vers toute autre <a class="reference internal" href="../../Releases.html"><span class="doc">versions encore prises en charge</span></a>, même les versions non-LTS.</p></li>
<li><p>Si vous rétroportez un seul PR dans son intégralité, intitulez le PR rétroporté « [Distro] &lt;nom du PR d’origine&gt; ». Si vous rétroportez un sous-ensemble de modifications d’un ou de plusieurs PR, le titre doit être « [Distro] &lt;description des modifications&gt; ».</p></li>
<li><p>Lien vers tous les PR dont vous rétroportez les modifications à partir de la description de votre PR de rétroportage. Dans un rétroportage Dashing d’un changement Foxy, vous n’avez pas besoin de créer un lien vers le rétroportage Eloquent du même changement.</p></li>
</ul>
</div>
</div>
<div class="section" id="documentation">
<h3><a class="toc-backref" href="#id6">Documentation</a><a class="headerlink" href="#documentation" title="Lien permanent vers ce titre"></a></h3>
<p>Tous les packages doivent avoir ces éléments de documentation présents dans leur README ou liés à partir de leur README :</p>
<ul class="simple">
<li><p>Description et objectif</p></li>
<li><p>Définition et description de l’API publique</p></li>
<li><p>Exemples</p></li>
<li><p>Comment créer et installer (doit faire référence à des outils/flux de travail externes)</p></li>
<li><p>Comment créer et exécuter des tests</p></li>
<li><p>Comment construire une documentation</p></li>
<li><p>Comment développer (utile pour décrire des choses comme <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>)</p></li>
<li><p>Déclarations de licence et de copyright</p></li>
</ul>
<p>Chaque fichier source doit avoir une licence et une déclaration de copyright, vérifiée avec un linter automatisé.</p>
<p>Chaque paquet doit avoir un fichier LICENSE, généralement la licence Apache 2.0, à moins que le paquet n’ait une licence permissive existante (par exemple, rviz utilise un BSD à trois clauses).</p>
<p>Chaque package doit se décrire lui-même et son objectif en supposant, autant que possible, que le lecteur est tombé dessus sans connaissance préalable de ROS ou d’autres projets connexes.</p>
<p>Chaque package doit définir et décrire son API publique afin que les utilisateurs s’attendent raisonnablement à ce qui est couvert par la politique de version sémantique. Même en C et C++, où l’API publique peut être appliquée par la vérification de l’API et de l’ABI, c’est une bonne occasion de décrire la disposition du code et la fonction de chaque partie du code.</p>
<p>Il devrait être facile de prendre n’importe quel package et à partir de la documentation de ce package, comprendre comment construire, exécuter, construire et exécuter des tests, et construire la documentation. Évidemment, nous devons éviter de nous répéter pour les flux de travail courants, comme la création d’un package dans un espace de travail, mais les flux de travail de base doivent être décrits ou référencés.</p>
<p>Enfin, il devrait inclure toute documentation destinée aux développeurs. Cela peut inclure des flux de travail pour tester le code en utilisant quelque chose comme <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>, ou cela peut signifier décrire comment utiliser les points d’extension fournis par votre package.</p>
<p>Exemples:</p>
<ul class="simple">
<li><p>capacités : <a class="reference external" href="https://docs.ros.org/hydro/api/capabilities/html/">https://docs.ros.org/hydro/api/capabilities/html/</a></p>
<ul>
<li><p>Celui-ci donne un exemple de docs décrivant l’API publique</p></li>
</ul>
</li>
<li><p>catkin_tools : <a class="reference external" href="https://catkin-tools.readthedocs.org/en/latest/development/extending_the_catkin_command.html">https://catkin-tools.readthedocs.org/en/latest/development/extending_the_catkin_command.html</a></p>
<ul>
<li><p>Ceci est un exemple de description d’un point d’extension pour un package</p></li>
</ul>
</li>
</ul>
<p><em>(Les documents API ne sont pas encore générés automatiquement)</em></p>
</div>
<div class="section" id="testing">
<h3><a class="toc-backref" href="#id7">Essai</a><a class="headerlink" href="#testing" title="Lien permanent vers ce titre"></a></h3>
<p>Tous les packages doivent avoir un certain niveau de <a class="reference internal" href="../../Tutorials/Intermediate/Testing/Testing-Main.html#testingmain"><span class="std std-ref">tests système, d’intégration et/ou unitaires.</span></a></p>
<p><strong>Les tests unitaires</strong> doivent toujours se trouver dans le package en cours de test et doivent utiliser des outils tels que <code class="docutils literal notranslate"><span class="pre">Mock</span></code> pour essayer de tester des parties étroites de la base de code dans des scénarios construits. Les tests unitaires ne doivent pas introduire de dépendances de test qui ne sont pas des outils de test, par ex. gtest, nosetest, pytest, mock, etc…</p>
<p>Les <strong>tests d’intégration</strong> peuvent tester les interactions entre des parties du code ou entre des parties du code et le système. Ils testent souvent les interfaces logicielles de manière à ce que nous attendions de l’utilisateur qu’il les utilise. Comme les tests unitaires, les tests d’intégration doivent être dans le package qui est testé et ne doivent pas introduire de dépendances de test non liées à l’outil, sauf en cas d’absolue nécessité, c’est-à-dire que toutes les dépendances non liées à l’outil ne doivent être autorisées que sous un examen minutieux, elles doivent donc être évitées si possible.</p>
<p>Les <strong>tests système</strong> sont conçus pour tester des situations de bout en bout entre les packages et doivent être dans leurs propres packages pour éviter les packages gonflés ou couplés et pour éviter les dépendances circulaires.</p>
<p>En général, il convient d’éviter de minimiser les dépendances de test externes ou entre packages pour éviter les dépendances circulaires et les packages de test étroitement couplés.</p>
<p>Tous les packages doivent avoir des tests unitaires et éventuellement des tests d’intégration, mais le degré auquel ils doivent les avoir est basé sur la catégorie de qualité du package. Les sous-sections suivantes s’appliquent aux forfaits de « niveau 1 » :</p>
<div class="section" id="code-coverage">
<h4>Couverture de code<a class="headerlink" href="#code-coverage" title="Lien permanent vers ce titre"></a></h4>
<p>Nous fournirons une couverture de ligne et atteindrons une couverture de ligne supérieure à 95 %. Si un objectif de pourcentage inférieur est justifiable, il doit être clairement documenté. Nous pouvons fournir une couverture de branche ou exclure du code de la couverture (code de test, code de débogage, etc.). Nous exigeons que la couverture augmente ou reste la même avant de fusionner une modification, mais il peut être acceptable d’apporter une modification qui diminue la couverture du code avec une justification appropriée (par exemple, la suppression du code qui était précédemment couvert peut entraîner une baisse du pourcentage).</p>
</div>
<div class="section" id="performance">
<h4>Performance<a class="headerlink" href="#performance" title="Lien permanent vers ce titre"></a></h4>
<p>Nous recommandons fortement les tests de performances, mais reconnaissons qu’ils n’ont pas de sens pour certains packages. S’il y a des tests de performance, nous choisirons de vérifier chaque changement ou avant chaque version ou les deux. Nous aurons également besoin d’une justification pour fusionner un changement ou faire une version qui réduit les performances.</p>
</div>
<div class="section" id="linters-and-static-analysis">
<h4>Linters et analyse statique<a class="headerlink" href="#linters-and-static-analysis" title="Lien permanent vers ce titre"></a></h4>
<p>Nous allons utiliser <a class="reference internal" href="Code-Style-Language-Versions.html"><span class="doc">style de code ROS</span></a> et l’appliquer avec les linters de <a class="reference external" href="https://github.com/ament/ament_lint/tree/rolling/ament_lint_common/doc/index.rst">ament_lint_common</a>. Tous les linters/analyses statiques qui font partie de <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code> doivent être utilisés.</p>
<p>La documentation <a class="reference external" href="https://github.com/ament/ament_lint/blob/rolling/ament_lint_auto/doc/index.rst">ament_lint_auto</a> fournit des informations sur l’exécution de <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="general-practices">
<h2><a class="toc-backref" href="#id8">Pratiques générales</a><a class="headerlink" href="#general-practices" title="Lien permanent vers ce titre"></a></h2>
<p>Certaines pratiques sont communes à tous les développements ROS 2.</p>
<p>Ces pratiques n’affectent pas le niveau de qualité du package tel que décrit dans <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004</a>, mais sont toujours fortement recommandées pour le processus de développement.</p>
<div class="section" id="issues">
<h3><a class="toc-backref" href="#id9">Questions</a><a class="headerlink" href="#issues" title="Lien permanent vers ce titre"></a></h3>
<p>Lorsque vous signalez un problème, assurez-vous de :</p>
<ul class="simple">
<li><p>Incluez suffisamment d’informations pour qu’une autre personne comprenne le problème. Dans ROS 2, les points suivants sont nécessaires pour déterminer la cause d’un problème. Tester avec autant d’alternatives dans chaque catégorie que possible sera particulièrement utile.</p>
<ul>
<li><p><strong>Le système d’exploitation et la version.</strong> Raisonnement : ROS 2 prend en charge plusieurs plates-formes, et certains bogues sont spécifiques à des versions particulières de systèmes d’exploitation/compilateurs.</p></li>
<li><p><strong>La méthode d’installation.</strong> Raisonnement : Certains problèmes ne se manifestent que si ROS 2 a été installé à partir de « fat archives » ou de Debians. Cela peut nous aider à déterminer si le problème vient du processus d’emballage.</p></li>
<li><p><strong>La version spécifique de ROS 2.</strong> Raisonnement : Certains bogues peuvent être présents dans une version particulière de ROS 2 et corrigés ultérieurement. Il est important de savoir si votre installation inclut ces correctifs.</p></li>
<li><p><strong>L’implémentation DDS/RMW utilisée</strong> (voir <a class="reference internal" href="../../Concepts/About-Different-Middleware-Vendors.html"><span class="doc">cette page</span></a> pour savoir comment déterminer lequel). Raisonnement : les problèmes de communication peuvent être spécifiques au middleware ROS sous-jacent utilisé.</p></li>
<li><p><strong>La bibliothèque cliente ROS 2 utilisée.</strong> Raisonnement : Cela nous aide à réduire la couche de la pile à laquelle le problème pourrait survenir.</p></li>
</ul>
</li>
<li><p>Incluez une liste d’étapes pour reproduire le problème.</p></li>
<li><p>En cas de bogue, envisagez de fournir un exemple court, autonome et correct (compilable) &lt;<a class="reference external" href="http://sscce.org/">http://sscce.org/</a>&gt;`__. Les problèmes sont beaucoup plus susceptibles d’être résolus si d’autres peuvent les reproduire facilement.</p></li>
<li><p>Mentionnez les étapes de dépannage qui ont déjà été essayées, notamment :</p>
<ul>
<li><p>Mise à niveau vers la dernière version du code, qui peut inclure des correctifs de bogues qui n’ont pas encore été publiés. Voir <a class="reference internal" href="../../Installation.html#building-from-source"><span class="std std-ref">cette section</span></a> et suivez les instructions pour obtenir les branches « rolling ».</p></li>
<li><p>Essayer avec une autre implémentation RMW. Voir <a class="reference internal" href="../../How-To-Guides/Working-with-multiple-RMW-implementations.html"><span class="doc">cette page</span></a> pour savoir comment procéder.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="branches">
<h3><a class="toc-backref" href="#id10">Branches</a><a class="headerlink" href="#branches" title="Lien permanent vers ce titre"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ce ne sont que des lignes directrices. Il appartient au responsable du paquet de choisir des noms de branche qui correspondent à son propre flux de travail.</p>
</div>
<p>Il est recommandé d’avoir des <strong>branches séparées</strong> dans le référentiel source d’un package pour chaque distribution ROS qu’il cible. Ces branches portent généralement le nom de la distribution qu’elles ciblent. Par exemple, une branche <code class="docutils literal notranslate"><span class="pre">humble</span></code> pour le développement ciblant spécifiquement la distribution Humble.</p>
<p>Des sorties sont également faites à partir de ces branches, en ciblant la distribution appropriée. Le développement ciblé sur une distribution ROS spécifique peut se produire sur la branche appropriée. Par exemple : les commits de développement ciblant <code class="docutils literal notranslate"><span class="pre">foxy</span></code> sont créés dans la branche <code class="docutils literal notranslate"><span class="pre">foxy</span></code>, et les versions de package pour <code class="docutils literal notranslate"><span class="pre">foxy</span></code> sont créées à partir de cette même branche.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cela nécessite que les responsables du paquet effectuent des backports ou des forwardports selon les besoins pour maintenir toutes les branches à jour avec les fonctionnalités. Les mainteneurs doivent également effectuer une maintenance générale (corrections de bogues, etc.) sur toutes les branches à partir desquelles des versions de paquets sont encore créées.</p>
<p>Par exemple, si une fonctionnalité est fusionnée dans la branche spécifique à Rolling (par exemple, <code class="docutils literal notranslate"><span class="pre">rolling</span></code> ou <code class="docutils literal notranslate"><span class="pre">main</span></code>), et que cette fonctionnalité est également appropriée à la distribution Humble (ne casse pas l’API, etc.), alors il est recommandé de rétroporter la fonctionnalité sur la branche spécifique à Humble.</p>
<p>Les responsables peuvent créer des versions pour ces distributions plus anciennes si de nouvelles fonctionnalités ou des corrections de bogues sont disponibles.</p>
</div>
<p><strong>Qu’en est-il de</strong> <code class="docutils literal notranslate"><span class="pre">main</span></code> <strong>et</strong> <code class="docutils literal notranslate"><span class="pre">rolling</span></code> ** ?**</p>
<p><code class="docutils literal notranslate"><span class="pre">main</span></code> cible généralement <a class="reference internal" href="../../Releases/Release-Rolling-Ridley.html"><span class="doc">Rolling</span></a> (et donc, la prochaine distribution ROS inédite), bien que les mainteneurs puissent décider de développer et de publier à partir d’un branche <code class="docutils literal notranslate"><span class="pre">rolling</span></code> à la place.</p>
</div>
<div class="section" id="pull-requests">
<h3><a class="toc-backref" href="#id11">Demandes d’extraction</a><a class="headerlink" href="#pull-requests" title="Lien permanent vers ce titre"></a></h3>
<ul class="simple">
<li><p>Une demande d’extraction ne doit se concentrer que sur un seul changement. Les modifications distinctes doivent être placées dans des demandes d’extraction distinctes. Voir <a class="reference external" href="https://github.com/blog/1943-how-to-write-the-perfect-pull-request">GitHub’s guide to writing the perfect pull request</a>.</p></li>
<li><p>Un patch doit être de taille minimale et éviter tout type de modifications inutiles.</p></li>
<li><p>Une demande d’extraction doit contenir un nombre minimum de commits significatifs.</p>
<ul>
<li><p>Vous pouvez créer de nouveaux commits pendant que la demande d’extraction est en cours d’examen.</p></li>
</ul>
</li>
<li><p>Avant de fusionner une demande d’extraction, toutes les modifications doivent être écrasées dans un petit nombre de commits sémantiques pour garder l’historique clair.</p>
<ul>
<li><p>Mais évitez d’écraser les commits pendant qu’une pull request est en cours d’examen. Vos examinateurs pourraient ne pas remarquer que vous avez apporté la modification, introduisant ainsi un risque de confusion. De plus, vous allez écraser avant de fusionner de toute façon ; il n’y a aucun avantage à le faire tôt.</p></li>
</ul>
</li>
<li><p>Tout développeur est invité à examiner et à approuver une demande d’extraction (voir <a class="reference internal" href="#general-principles">Principes généraux</a>).</p></li>
<li><p>Lorsque vous commencez à examiner une demande d’extraction, commentez la demande d’extraction afin que les autres développeurs sachent que vous l’examinez.</p></li>
<li><p>La révision de la demande d’extraction n’est pas en lecture seule, le réviseur faisant des commentaires et attendant ensuite que l’auteur y réponde. En tant que réviseur, n’hésitez pas à apporter des améliorations mineures (fautes de frappe, problèmes de style, etc.) sur place. En tant qu’ouvreur d’une pull-request, si vous travaillez dans un fork, cochez la case pour <a class="reference external" href="https://github.com/blog/2247-improving-collaboration-with-forks">autoriser les modifications des contributeurs en amont</a> aidera avec ce qui précède. En tant que réviseur, n’hésitez pas non plus à apporter des améliorations plus substantielles, mais envisagez de les mettre dans une branche distincte (soit mentionner la nouvelle branche dans un commentaire, soit ouvrir une autre pull request de la nouvelle branche vers la branche d’origine).</p></li>
<li><p>N’importe quel développeur (l’auteur, le réviseur ou quelqu’un d’autre) peut fusionner n’importe quelle demande d’extraction approuvée.</p></li>
</ul>
</div>
<div class="section" id="library-versioning">
<h3><a class="toc-backref" href="#id12">Gestion des versions de la bibliothèque</a><a class="headerlink" href="#library-versioning" title="Lien permanent vers ce titre"></a></h3>
<p>Nous versionnerons toutes les bibliothèques d’un package ensemble. Cela signifie que les bibliothèques héritent de leur version du package. Cela empêche les versions de bibliothèque et de package de diverger et partage le raisonnement avec la politique de publication de packages qui partagent un référentiel ensemble. Si vous avez besoin de bibliothèques pour différentes versions, envisagez de les diviser en différents packages.</p>
</div>
<div class="section" id="development-process">
<h3><a class="toc-backref" href="#id13">Processus de développement</a><a class="headerlink" href="#development-process" title="Lien permanent vers ce titre"></a></h3>
<ul class="simple">
<li><p>La branche par défaut (dans la plupart des cas la branche roulante) doit toujours se construire, réussir tous les tests et compiler sans avertissement. Si à tout moment il y a une régression, la priorité absolue est de restaurer au moins l’état précédent.</p></li>
<li><p>Compilez toujours avec les tests activés.</p></li>
<li><p>Exécutez toujours les tests localement après les modifications et avant de les proposer dans une demande d’extraction. En plus d’utiliser des tests automatisés, exécutez également le chemin de code modifié manuellement pour vous assurer que le correctif fonctionne comme prévu.</p></li>
<li><p>Exécutez toujours les travaux CI pour toutes les plates-formes pour chaque demande d’extraction et incluez des liens vers les travaux dans la demande d’extraction.</p></li>
</ul>
<p>Pour plus de détails sur le workflow de développement logiciel recommandé, consultez la section <a class="reference internal" href="#software-development-lifecycle">Cycle de vie du développement logiciel</a>.</p>
</div>
<div class="section" id="changes-to-rmw-api">
<h3><a class="toc-backref" href="#id14">Modifications de l’API RMW</a><a class="headerlink" href="#changes-to-rmw-api" title="Lien permanent vers ce titre"></a></h3>
<p>Lors de la mise à jour de <a class="reference external" href="https://github.com/ros2/rmw">RMW API</a>, il est nécessaire que les implémentations RMW pour les bibliothèques middleware de niveau 1 soient également mises à jour. Par exemple, une nouvelle fonction <code class="docutils literal notranslate"><span class="pre">rmw_foo()</span></code> introduite dans l’API RMW doit être implémentée dans les packages suivants (à partir de ROS Galactic) :</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw_connextdds">rmw_connextdds</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_cyclonedds">rmw_cyclonedds</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_fastrtps">rmw_fastrtps</a></p></li>
</ul>
<p>Les mises à jour pour les bibliothèques middleware non de niveau 1 doivent également être envisagées si possible (par exemple, en fonction de la taille du changement). Voir <a class="reference external" href="https://www.ros.org/reps/rep-2000.html">REP-2000</a> pour la liste des bibliothèques middleware et leurs niveaux.</p>
</div>
<div class="section" id="tracking-tasks">
<h3><a class="toc-backref" href="#id15">Suivi des tâches</a><a class="headerlink" href="#tracking-tasks" title="Lien permanent vers ce titre"></a></h3>
<p>Pour aider à organiser le travail sur ROS 2, l’équipe de développement principale de ROS 2 utilise des tableaux de projet GitHub de style kanban &lt;<a class="reference external" href="https://github.com/orgs/ros2/projects">https://github.com/orgs/ros2/projects</a>&gt;`_.</p>
<p>Cependant, tous les problèmes et demandes d’extraction ne sont pas suivis sur les tableaux de projet. Un tableau représente généralement une version à venir ou un projet spécifique. Les tickets peuvent être consultés sur une base par dépôt en parcourant les <a class="reference external" href="https://github.com/ros2">référentiels ROS 2”</a> pages de problèmes individuels.</p>
<p>Les noms et les objectifs des colonnes dans un tableau de projet ROS 2 donné varient, mais suivent généralement la même structure générale :</p>
<ul class="simple">
<li><p><strong>À faire</strong> : problèmes pertinents pour le projet, prêts à être attribués</p></li>
<li><p><strong>En cours</strong> : demandes d’extraction actives sur lesquelles des travaux sont actuellement en cours</p></li>
<li><p><strong>En cours d’examen</strong> : demandes d’extraction pour lesquelles le travail est terminé et prêt à être examiné, et pour celles qui sont actuellement en cours d’examen</p></li>
<li><p><strong>Terminé</strong> : les demandes d’extraction et les problèmes associés sont fusionnés/fermés (à titre informatif)</p></li>
</ul>
<p>Pour demander l’autorisation d’apporter des modifications, il vous suffit de commenter les tickets qui vous intéressent. En fonction de la complexité, il peut être utile de décrire comment vous envisagez de le résoudre. Nous mettrons à jour le statut (si vous n’en avez pas l’autorisation) et vous pourrez commencer à travailler sur une pull request. Si vous contribuez régulièrement, nous vous accorderons probablement simplement la permission de gérer vous-même les étiquettes, etc.</p>
</div>
<div class="section" id="programming-conventions">
<h3><a class="toc-backref" href="#id16">Conventions de programmation</a><a class="headerlink" href="#programming-conventions" title="Lien permanent vers ce titre"></a></h3>
<ul class="simple">
<li><p>Programmation défensive : assurez-vous que les hypothèses sont maintenues le plus tôt possible. Par exemple. vérifiez chaque code de retour et assurez-vous de lever au moins une exception jusqu’à ce que le cas soit traité avec plus de grâce.</p></li>
<li><p>Tous les messages d’erreur doivent être dirigés vers <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p></li>
<li><p>Déclarez les variables dans la portée la plus étroite possible.</p></li>
<li><p>Gardez le groupe d’éléments (dépendances, importations, inclusions, etc.) classés par ordre alphabétique.</p></li>
</ul>
<div class="section" id="c-specific">
<h4>Spécifique C++<a class="headerlink" href="#c-specific" title="Lien permanent vers ce titre"></a></h4>
<ul class="simple">
<li><p>Évitez d’utiliser le streaming direct (<code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>) vers <code class="docutils literal notranslate"><span class="pre">stdout</span></code> / <code class="docutils literal notranslate"><span class="pre">stderr</span></code> pour empêcher l’entrelacement entre plusieurs threads.</p></li>
<li><p>Évitez d’utiliser des références pour <code class="docutils literal notranslate"><span class="pre">std::shared_ptr</span></code> car cela perturbe le comptage des références. Si l’instance d’origine sort de la portée et que la référence est utilisée, elle accède à la mémoire libérée.</p></li>
</ul>
</div>
</div>
<div class="section" id="filesystem-layout">
<h3><a class="toc-backref" href="#id17">Disposition du système de fichiers</a><a class="headerlink" href="#filesystem-layout" title="Lien permanent vers ce titre"></a></h3>
<p>La disposition du système de fichiers des packages et des référentiels doit suivre les mêmes conventions afin de fournir une expérience cohérente aux utilisateurs parcourant notre code source.</p>
<div class="section" id="package-layout">
<h4>Disposition de l’emballage<a class="headerlink" href="#package-layout" title="Lien permanent vers ce titre"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code> : contient tout le code C et C++</p>
<ul>
<li><p>Contient également des en-têtes C/C++ qui ne sont pas installés</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">include</span></code> : contient tous les en-têtes C et C++ qui sont installés</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;nom</span> <span class="pre">du</span> <span class="pre">package&gt;</span></code> : pour tous les en-têtes installés en C et C++, ils doivent être placés dans un espace de nom de dossier par le nom du package</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package_name&gt;</span></code> : contient tout le code Python</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test</span></code> : contient tous les tests automatisés et les données de test</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config</span></code> : contient les fichiers de configuration, par ex. Fichiers de paramètres YAML et fichiers de configuration RViz</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc</span></code> : contient toute la documentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">launch</span></code> : contient tous les fichiers de lancement</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package.xml</span></code> : tel que défini par <a class="reference external" href="https://www.ros.org/reps/rep-0140.html">REP-0140</a> (peut être mis à jour pour le prototypage)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> : seuls les packages ROS qui utilisent CMake</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> : uniquement les packages ROS qui utilisent uniquement du code Python</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">README</span></code> : peut être rendu sur GitHub en tant que page de destination pour le projet</p>
<ul>
<li><p>Cela peut être aussi court ou détaillé que possible, mais il doit au moins être lié à la documentation du projet</p></li>
<li><p>Envisagez de mettre un CI ou une balise de couverture de code dans ce README</p></li>
<li><p>Il peut également s’agir de <code class="docutils literal notranslate"><span class="pre">.rst</span></code> ou de tout autre élément pris en charge par GitHub</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTRIBUTING</span></code> : décrit les directives de contribution</p>
<ul>
<li><p>Cela peut inclure l’implication de la licence, par ex. lors de l’utilisation de la licence Apache 2.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> : une copie de la licence ou des licences pour ce package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CHANGELOG.rst</span></code> : <a class="reference external" href="https://www.ros.org/reps/rep-0132.html">REP-0132</a> journal des modifications conforme</p></li>
</ul>
</div>
<div class="section" id="repository-layout">
<h4>Disposition du référentiel<a class="headerlink" href="#repository-layout" title="Lien permanent vers ce titre"></a></h4>
<p>Chaque package doit se trouver dans un sous-dossier portant le même nom que le package. Si un référentiel ne contient qu’un seul package, il peut éventuellement se trouver à la racine du référentiel.</p>
</div>
</div>
</div>
<div class="section" id="developer-workflow">
<h2><a class="toc-backref" href="#id18">Flux de travail du développeur</a><a class="headerlink" href="#developer-workflow" title="Lien permanent vers ce titre"></a></h2>
<p>Nous suivons les tickets ouverts et les relations publiques actives liées aux versions à venir et aux projets plus importants à l’aide de <a class="reference external" href="https://github.com/orgs/ros2/projects">tableaux de projets GitHub</a>.</p>
<p>Le flux de travail habituel est :</p>
<ul>
<li><p>Discutez de la conception (ticket GitHub sur le référentiel approprié et un PR de conception à <a class="reference external" href="https://github.com/ros2/design">https://github.com/ros2/design</a> si nécessaire)</p></li>
<li><p>Écrire l’implémentation sur une branche de fonctionnalité sur un fork</p>
<ul class="simple">
<li><p>Veuillez consulter le <a class="reference internal" href="#"><span class="doc">guide du développeur</span></a> pour les directives et les meilleures pratiques</p></li>
</ul>
</li>
<li><p>Rédiger des tests</p></li>
<li><p>Activer et exécuter les linters</p></li>
<li><p>Exécutez les tests localement en utilisant <code class="docutils literal notranslate"><span class="pre">colcon</span> <span class="pre">test</span></code> (voir le <a class="reference internal" href="../../Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html"><span class="doc">colcon tutorial</span></a>)</p></li>
<li><p>Une fois que tout se construit localement sans avertissement et que tous les tests réussissent, exécutez CI sur votre branche de fonctionnalité :</p>
<ul class="simple">
<li><p>Allez sur ci.ros2.org</p></li>
<li><p>Connectez-vous (coin supérieur droit)</p></li>
<li><p>Cliquez sur la tâche <code class="docutils literal notranslate"><span class="pre">ci_launcher</span></code></p></li>
<li><p>Cliquez sur « Construire avec des paramètres » (colonne de gauche)</p></li>
<li><p>Dans la première case « CI_BRANCH_TO_TEST » entrez le nom de votre branche de fonctionnalité</p></li>
<li><p>Appuyez sur le bouton <code class="docutils literal notranslate"><span class="pre">construire</span></code></p></li>
</ul>
<p>(si vous n’êtes pas un committer ROS 2, vous n’avez pas accès à la ferme CI. Dans ce cas, envoyez un ping au réviseur de votre PR pour qu’il exécute CI pour vous)</p>
</li>
<li><p>Si votre cas d’utilisation nécessite une couverture de code en cours d’exécution :</p>
<ul class="simple">
<li><p>Allez sur ci.ros2.org</p></li>
<li><p>Connectez-vous (coin supérieur droit)</p></li>
<li><p>Cliquez sur le travail <code class="docutils literal notranslate"><span class="pre">ci_linux_coverage</span></code></p></li>
<li><p>Cliquez sur « Construire avec des paramètres » (colonne de gauche)</p></li>
<li><p>Assurez-vous de laisser « CI_BUILD_ARGS » et « CI_TEST_ARGS » avec les valeurs par défaut</p></li>
<li><p>Appuyez sur le bouton <code class="docutils literal notranslate"><span class="pre">construire</span></code></p></li>
<li><p>À la fin du document, il y a des instructions sur la façon de <a class="reference internal" href="#read-coverage-report"><span class="std std-ref">interpréter le résultat du rapport</span></a> et <a class="reference internal" href="#calculate-coverage-rate"><span class="std std-ref">calculer le taux de couverture</span></a></p></li>
</ul>
</li>
<li><p>Si le travail CI construit sans avertissements, erreurs et échecs de test, postez les liens de vos travaux sur votre PR ou ticket de haut niveau regroupant tous vos PRs (voir exemple <a class="reference external" href="https://github.com/ros2/rcl/pull/106#issuecomment-271119200">ici</a>)</p>
<ul class="simple">
<li><p>Notez que la démarque de ces badges se trouve dans la sortie console du travail <code class="docutils literal notranslate"><span class="pre">ci_launcher</span></code></p></li>
</ul>
</li>
<li><p>Lorsque le PR a été approuvé :</p>
<ul class="simple">
<li><p>la personne qui a soumis le PR le fusionne en utilisant l’option « Squash and Merge » afin que nous gardions un historique propre</p>
<ul>
<li><p>Si les commits méritent d’être séparés : écrasez tous les nitpick/linters/typo ensemble et fusionnez l’ensemble restant</p>
<ul>
<li><p>Remarque : chaque PR doit cibler une fonctionnalité spécifique afin que Squash et Merge aient du sens 99 % du temps</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Supprimer la branche une fois fusionnée</p></li>
</ul>
</div>
<div class="section" id="architectural-development-practices">
<h2><a class="toc-backref" href="#id19">Pratiques de développement architectural</a><a class="headerlink" href="#architectural-development-practices" title="Lien permanent vers ce titre"></a></h2>
<p>Cette section décrit le cycle de vie idéal qui doit être utilisé lors de modifications architecturales importantes de ROS 2.</p>
<div class="section" id="software-development-lifecycle">
<h3><a class="toc-backref" href="#id20">Cycle de vie du développement logiciel</a><a class="headerlink" href="#software-development-lifecycle" title="Lien permanent vers ce titre"></a></h3>
<p>Cette section décrit étape par étape comment planifier, concevoir et implémenter une nouvelle fonctionnalité :</p>
<ol class="arabic simple">
<li><p>Création de tâche</p></li>
<li><p>Création du document de conception</p></li>
<li><p>Examen de la conception</p></li>
<li><p>Mise en œuvre</p></li>
<li><p>Révision des codes</p></li>
</ol>
<div class="section" id="task-creation">
<h4>Création de tâche<a class="headerlink" href="#task-creation" title="Lien permanent vers ce titre"></a></h4>
<p>Les tâches nécessitant des modifications des parties critiques de ROS 2 doivent faire l’objet de revues de conception au cours des premières étapes du cycle de publication. Si une révision de la conception a lieu dans les étapes ultérieures, les modifications feront partie d’une future version.</p>
<ul class="simple">
<li><p>Un problème doit être créé dans le <a class="reference external" href="https://github.com/ros2/">dépôt ros2</a> approprié, décrivant clairement la tâche en cours.</p>
<ul>
<li><p>Il doit avoir des critères de réussite clairs et mettre en évidence les améliorations concrètes attendues de celui-ci.</p></li>
<li><p>Si la fonctionnalité cible une version ROS, assurez-vous que cela est suivi dans le ticket de version ROS (<a class="reference external" href="https://github.com/ros2/ros2/issues/607">exemple</a>).</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="writing-the-design-document">
<h4>Rédaction du document de conception<a class="headerlink" href="#writing-the-design-document" title="Lien permanent vers ce titre"></a></h4>
<p>Les documents de conception ne doivent jamais inclure d’informations confidentielles. La nécessité ou non d’un document de conception pour votre modification dépend de l’ampleur de la tâche.</p>
<ol class="arabic simple">
<li><p>Vous apportez une petite modification ou corrigez un bogue :</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Un document de conception n’est pas requis, mais un problème doit être ouvert dans le référentiel approprié pour suivre le travail et éviter la duplication des efforts.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Vous implémentez une nouvelle fonctionnalité ou souhaitez contribuer à l’infrastructure appartenant à OSRF (comme Jenkins CI):</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>La documentation de conception est requise et doit être ajoutée à <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> pour être rendue accessible sur <a class="reference external" href="https://design.ros2.org/">https://design.ros2.org/</a>.</p></li>
<li><p>Vous devez bifurquer le référentiel et soumettre une demande d’extraction détaillant la conception.</p></li>
</ul>
<p>Mentionnez le problème ros2 associé (par exemple, <code class="docutils literal notranslate"><span class="pre">Design</span> <span class="pre">doc</span> <span class="pre">for</span> <span class="pre">task</span> <span class="pre">ros2/ros2#&lt;issue</span> <span class="pre">id&gt;</span></code>) dans la demande d’extraction ou le message de validation. Des instructions détaillées se trouvent sur la page <a class="reference external" href="https://design.ros2.org/contribute.html">ROS 2 Contribute</a>. Les commentaires de conception seront faits directement sur la demande d’extraction.</p>
</div></blockquote>
<p>S’il est prévu que la tâche soit publiée avec une version spécifique de ROS, ces informations doivent être incluses dans la demande d’extraction.</p>
</div>
<div class="section" id="design-document-review">
<h4>Examen des documents de conception<a class="headerlink" href="#design-document-review" title="Lien permanent vers ce titre"></a></h4>
<p>Une fois que la conception est prête à être examinée, une demande d’extraction doit être ouverte et des examinateurs appropriés doivent être affectés. Il est recommandé d’inclure le(s) propriétaire(s) du projet - responsables de tous les packages impactés (tel que défini par le champ responsable <code class="docutils literal notranslate"><span class="pre">package.xml</span></code>, voir <a class="reference external" href="https://www.ros.org/reps/rep-0140.html#maintainer-multiple-but-at-least-one">REP-140</a>) - en tant que réviseurs.</p>
<ul>
<li><p>Si le document de conception est complexe ou si les réviseurs ont des horaires contradictoires, une réunion facultative de révision de la conception peut être organisée. Dans ce cas,</p>
<p><strong>Avant la réunion</strong></p>
<ul class="simple">
<li><p>Envoyer une invitation à une réunion au moins une semaine à l’avance</p></li>
<li><p>Une durée de réunion d’une heure est recommandée</p></li>
<li><p>L’invitation à la réunion doit répertorier toutes les décisions à prendre lors de l’examen (décisions nécessitant l’approbation du responsable du paquet)</p></li>
<li><dl class="simple">
<dt>Réunion des participants requis : réviseurs de demandes d’extraction de conception</dt><dd><p>Réunion des participants facultatifs : tous les ingénieurs OSRF, le cas échéant</p>
</dd>
</dl>
</li>
</ul>
<p><strong>Pendant la réunion</strong></p>
<ul class="simple">
<li><p>Le propriétaire de la tâche dirige la réunion, présente ses idées et gère les discussions pour s’assurer qu’un accord est atteint à temps</p></li>
</ul>
<p><strong>Après la réunion</strong></p>
<ul class="simple">
<li><p>Le propriétaire de la tâche doit renvoyer les notes de réunion à tous les participants</p></li>
<li><p>Si des problèmes mineurs ont été soulevés concernant la conception :</p>
<ul>
<li><p>Le propriétaire de la tâche doit mettre à jour la demande d’extraction de document de conception en fonction des commentaires</p></li>
<li><p>Un examen supplémentaire n’est pas nécessaire</p></li>
</ul>
</li>
<li><p>Si des problèmes majeurs ont été soulevés concernant la conception :</p>
<ul>
<li><p>Il est acceptable de supprimer les sections pour lesquelles il n’y a pas d’accord clair</p></li>
<li><p>Les parties discutables de la conception peuvent être soumises à nouveau en tant que tâche distincte à l’avenir</p></li>
<li><p>Si la suppression des parties discutables n’est pas une option, travaillez directement avec les propriétaires de packages pour parvenir à un accord</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Une fois le consensus atteint :</p>
<ul class="simple">
<li><p>Assurez-vous que la demande d’extraction <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> a été fusionnée, le cas échéant</p></li>
<li><p>Mettre à jour et fermer le problème GitHub associé à cette tâche de conception</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="implementation">
<h4>Mise en œuvre<a class="headerlink" href="#implementation" title="Lien permanent vers ce titre"></a></h4>
<p>Avant de commencer, consultez la section « Demandes d’extraction »_ pour connaître les meilleures pratiques.</p>
<ul class="simple">
<li><p>Pour chaque dépôt à modifier :</p>
<ul>
<li><p>Modifiez le code, passez à l’étape suivante si vous avez terminé ou à intervalles réguliers pour sauvegarder votre travail.</p></li>
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Interactive-Staging">Auto-examen</a> vos modifications en utilisant <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-i</span></code>.</p></li>
<li><p>Créez un nouveau commit signé en utilisant <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code>.</p>
<ul>
<li><p>Une demande d’extraction doit contenir un minimum de commits sémantiquement significatifs (par exemple, un grand nombre de commits d’une ligne n’est pas acceptable). Créez de nouveaux commits de correction tout en itérant sur les commentaires, ou éventuellement, modifiez les commits existants en utilisant <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code> si vous ne voulez pas créer un nouveau commit à chaque fois.</p></li>
<li><p>Chaque commit doit avoir un message de commit correctement écrit et significatif. Plus d’instructions <a class="reference external" href="https://chris.beams.io/posts/git-commit/">ici</a>.</p></li>
<li><p>Le déplacement des fichiers doit être effectué dans un commit séparé, sinon git risque de ne pas suivre avec précision l’historique des fichiers.</p></li>
<li><p>Soit la description de la demande d’extraction, soit le message de validation doit contenir une référence au problème ros2 associé, de sorte qu’il est automatiquement fermé lorsque la demande d’extraction est fusionnée. Voir ce <a class="reference external" href="https://help.github.com/articles/closing-issues-using-keywords/">doc</a> pour plus de détails.</p></li>
<li><p>Poussez les nouveaux commits.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="code-review">
<h4>Revue de code<a class="headerlink" href="#code-review" title="Lien permanent vers ce titre"></a></h4>
<p>Une fois que le changement est prêt pour la révision du code :</p>
<ul class="simple">
<li><p>Ouvrez une demande d’extraction pour chaque référentiel modifié.</p>
<ul>
<li><p>N’oubliez pas de suivre les meilleures pratiques relatives aux « demandes d’extraction ».</p></li>
<li><p><a class="reference external" href="https://hub.github.com/">GitHub</a> peut être utilisé pour créer des demandes d’extraction à partir de la ligne de commande.</p></li>
<li><p>S’il est prévu que la tâche soit publiée avec une version spécifique de ROS, ces informations doivent être incluses dans chaque demande d’extraction.</p></li>
</ul>
</li>
<li><p>Les propriétaires de packages qui ont examiné le document de conception doivent être mentionnés dans la demande d’extraction.</p></li>
<li><p>SLO de révision du code : bien que la révision des demandes d’extraction soit un effort optimal, il est utile que les réviseurs commentent les demandes d’extraction dans un délai d’une semaine et que les auteurs de code répondent aux commentaires dans un délai d’une semaine, afin qu’il n’y ait pas de perte de contexte.</p></li>
<li><p>Itérer sur les commentaires comme d’habitude, modifier et mettre à jour la branche de développement si nécessaire.</p></li>
<li><p>Une fois le PR approuvé, les mainteneurs de paquets fusionneront les changements dans.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="build-farm-introduction">
<h2><a class="toc-backref" href="#id21">Construire une introduction à la ferme</a><a class="headerlink" href="#build-farm-introduction" title="Lien permanent vers ce titre"></a></h2>
<p>La ferme de construction est située sur <a class="reference external" href="https://ci.ros2.org/">ci.ros2.org</a>.</p>
<p>Chaque nuit, nous exécutons des tâches nocturnes qui construisent et exécutent tous les tests dans différents scénarios sur différentes plates-formes. De plus, nous testons toutes les demandes d’extraction sur ces plates-formes avant de les fusionner.</p>
<p>Il s’agit de l’ensemble actuel de plates-formes et d’architectures cibles, bien qu’il évolue au fil du temps :</p>
<ul class="simple">
<li><p>Ubuntu 22.04 Jammy</p>
<ul>
<li><p>amdshch</p></li>
<li><p>aarch64</p></li>
</ul>
</li>
<li><p>Windows 10</p>
<ul>
<li><p>amdshch</p></li>
</ul>
</li>
</ul>
<p>Il existe plusieurs catégories d’emplois sur le buildfarm :</p>
<ul class="simple">
<li><p>tâches manuelles (déclenchées manuellement par les développeurs) :</p>
<ul>
<li><p>ci_linux : compiler + tester le code sur Ubuntu Xenial</p></li>
<li><p>ci_linux-aarch64 : compilez + testez le code sur Ubuntu Xenial sur une machine ARM 64 bits (aarch64) ;</p></li>
<li><p>ci_linux_coverage : build + test + génération de couverture de test</p></li>
<li><p>ci_windows : compiler + tester le code sur Windows 10</p></li>
<li><p>ci_launcher : déclenche toutes les tâches répertoriées ci-dessus</p></li>
</ul>
</li>
<li><p>nightly (courir tous les soirs):</p>
<ul>
<li><p>Debug : compilez + testez le code avec CMAKE_BUILD_TYPE=Debug</p>
<ul>
<li><p>nightly_linux_debug</p></li>
<li><p>nightly_linux-aarch64_debug</p></li>
<li><p>nightly_win_deb</p></li>
</ul>
</li>
<li><p>Release : compiler + tester le code avec CMAKE_BUILD_TYPE=Release</p>
<ul>
<li><p>nightly_linux_release</p></li>
<li><p>nightly_linux-aarch64_release</p></li>
<li><p>nightly_win_rel</p></li>
</ul>
</li>
<li><p>Répété : construisez puis exécutez chaque test jusqu’à 20 fois ou jusqu’à l’échec (aka flakiness hunter)</p>
<ul>
<li><p>nightly_linux_repeated</p></li>
<li><p>nightly_linux-aarch64_repeated</p></li>
<li><p>nightly_win_rep</p></li>
</ul>
</li>
<li><p>Couverture:</p>
<ul>
<li><p>nightly_linux_coverage : construit + teste le code + analyse la couverture pour c/c++ et python</p>
<ul>
<li><p>les résultats sont exportés sous forme de rapport cobertura</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>packaging (exécuté toutes les nuits ; le résultat est regroupé dans une archive) :</p>
<ul>
<li><p>packaging_linux</p></li>
<li><p>packaging_windows</p></li>
</ul>
</li>
</ul>
<p>Deux fermes de construction supplémentaires prennent en charge l’écosystème ROS / ROS 2 en fournissant la construction de packages source et binaires, l’intégration continue, les tests et l’analyse.</p>
<p>Pour plus de détails, les questions fréquemment posées et le dépannage, consultez <a class="reference internal" href="Build-Farms.html"><span class="doc">build farms</span></a>.</p>
<div class="section" id="note-on-coverage-runs">
<h3><a class="toc-backref" href="#id22">Remarque sur les courses de couverture</a><a class="headerlink" href="#note-on-coverage-runs" title="Lien permanent vers ce titre"></a></h3>
<p>Les packages ROS 2 sont organisés de manière à ce que le code de test d’un package donné soit non seulement contenu dans le package, mais puisse également être présent dans un package différent. En d’autres termes : les packages peuvent exercer du code appartenant à d’autres packages pendant la phase de test.</p>
<p>Pour atteindre le taux de couverture atteint par tout le code disponible dans les packages de base ROS 2, il est recommandé d’exécuter les builds à l’aide d’un ensemble fixe de référentiels proposés. Cet ensemble est défini dans les paramètres par défaut des tâches de couverture dans Jenkins.</p>
</div>
<div class="section" id="how-to-read-the-coverage-rate-from-the-buildfarm-report">
<span id="read-coverage-report"></span><h3><a class="toc-backref" href="#id23">Comment lire le taux de couverture à partir du rapport buildfarm</a><a class="headerlink" href="#how-to-read-the-coverage-rate-from-the-buildfarm-report" title="Lien permanent vers ce titre"></a></h3>
<p>Pour voir le rapport de couverture pour un package donné :</p>
<ul class="simple">
<li><p>Lorsque la construction de <code class="docutils literal notranslate"><span class="pre">ci_linux_coverage</span></code> se termine, cliquez sur <code class="docutils literal notranslate"><span class="pre">Rapport</span> <span class="pre">de</span> <span class="pre">couverture</span></code></p></li>
<li><p>Faites défiler jusqu’au tableau <code class="docutils literal notranslate"><span class="pre">Répartition</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">couverture</span> <span class="pre">par</span> <span class="pre">forfait</span></code></p></li>
<li><p>Dans le tableau, regardez la première colonne intitulée « Nom »</p></li>
</ul>
<p>Les rapports de couverture dans la buildfarm incluent tous les packages qui ont été utilisés dans l’espace de travail ROS. Le rapport de couverture comprend différents chemins correspondant à un même forfait :</p>
<ul class="simple">
<li><p>Nommez les entrées sous la forme : <code class="docutils literal notranslate"><span class="pre">src.*.&lt;repository_name&gt;.&lt;package_name&gt;.*</span></code> Celles-ci correspondent aux exécutions de tests unitaires disponibles dans un package par rapport à son propre code source</p></li>
<li><p>Nommez les entrées sous la forme : <code class="docutils literal notranslate"><span class="pre">build.&lt;repository_name&gt;.&lt;package_name&gt;.*</span></code> Celles-ci correspondent aux exécutions de tests unitaires disponibles dans un package par rapport à ses fichiers générés au moment de la construction ou de la configuration</p></li>
<li><p>Nommer les entrées sous la forme : <code class="docutils literal notranslate"><span class="pre">install.&lt;package_name&gt;.*</span></code> Elles correspondent aux tests système/d’intégration provenant des séries de tests d’autres packages</p></li>
</ul>
</div>
<div class="section" id="how-to-calculate-the-coverage-rate-from-the-buildfarm-report">
<span id="calculate-coverage-rate"></span><h3><a class="toc-backref" href="#id24">Comment calculer le taux de couverture à partir du rapport buildfarm</a><a class="headerlink" href="#how-to-calculate-the-coverage-rate-from-the-buildfarm-report" title="Lien permanent vers ce titre"></a></h3>
<p>Obtenez le taux de couverture unitaire combiné à l’aide du script automatique :</p>
<blockquote>
<div><ul class="simple">
<li><p>Depuis le build ci_linux_coverage Jenkins, copiez l’URL du build</p></li>
<li><p>Téléchargez le script <a class="reference external" href="https://raw.githubusercontent.com/ros2/ci/master/tools/get_coverage_ros2_pkg.py">get_coverage_ros2_pkg</a></p></li>
<li><p>Exécutez le script : <code class="docutils literal notranslate"><span class="pre">./get_coverage_ros2_pkg.py</span> <span class="pre">&lt;jenkins_build_url&gt;</span> <span class="pre">&lt;ros2_package_name&gt;</span></code> (<a class="reference external" href="https://github.com/ros2/ci/blob/master/tools/README.md">README</a>)</p></li>
<li><p>Récupérez les résultats de la dernière ligne « Combined unit testing » dans la sortie du script</p></li>
</ul>
</div></blockquote>
<p>Alternative : obtenir le taux de couverture unitaire combiné à partir du rapport de couverture (nécessite un calcul manuel) :</p>
<ul class="simple">
<li><p>Lorsque la construction de ci_linux_coverage est terminée, cliquez sur <code class="docutils literal notranslate"><span class="pre">Cobertura</span> <span class="pre">Coverage</span> <span class="pre">Report</span></code></p></li>
<li><p>Faites défiler jusqu’au tableau <code class="docutils literal notranslate"><span class="pre">Répartition</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">couverture</span> <span class="pre">par</span> <span class="pre">forfait</span></code></p></li>
<li><p>Dans le tableau, sous la première colonne « Name », recherchez (où &lt;package_name&gt; est votre package en cours de test) :</p>
<ul>
<li><p>tous les répertoires sous le modèle <code class="docutils literal notranslate"><span class="pre">src.*.&lt;repository_name&gt;.&lt;package_name&gt;.*</span></code> saisissez les deux valeurs absolues dans la colonne « Lines ».</p></li>
<li><p>tous les répertoires sous le modèle <code class="docutils literal notranslate"><span class="pre">build/.&lt;repository_name&gt;.*</span></code> récupèrent les deux valeurs absolues dans la colonne « Lines ».</p></li>
</ul>
</li>
<li><p>Avec la sélection précédente : pour chaque cellule, la première valeur correspond aux lignes testées et la seconde au total des lignes de code. Agrégez toutes les lignes pour obtenir le total des lignes testées et le total des lignes de code testées. Diviser pour obtenir le taux de couverture.</p></li>
</ul>
</div>
<div class="section" id="how-to-measure-coverage-locally-using-lcov-ubuntu">
<span id="measure-coverage-locally"></span><h3><a class="toc-backref" href="#id25">Comment mesurer la couverture localement à l’aide de lcov (Ubuntu)</a><a class="headerlink" href="#how-to-measure-coverage-locally-using-lcov-ubuntu" title="Lien permanent vers ce titre"></a></h3>
<p>Pour mesurer la couverture sur votre propre machine, installez <code class="docutils literal notranslate"><span class="pre">lcov</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>lcov
</pre></div>
</div>
<p>Le reste de cette section suppose que vous travaillez depuis votre espace de travail colcon. Compiler en débogage avec des drapeaux de couverture. N’hésitez pas à utiliser les drapeaux colcon pour cibler des packages spécifiques.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon<span class="w"> </span>build<span class="w"> </span>--cmake-args<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug<span class="w"> </span>-DCMAKE_CXX_FLAGS<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CMAKE_CXX_FLAGS</span><span class="si">}</span><span class="s2"> --coverage&quot;</span><span class="w"> </span>-DCMAKE_C_FLAGS<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CMAKE_C_FLAGS</span><span class="si">}</span><span class="s2"> --coverage&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">lcov</span></code> nécessite une ligne de base initiale, que vous pouvez produire avec la commande suivante. Mettez à jour l’emplacement du fichier de sortie selon vos besoins.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lcov<span class="w"> </span>--no-external<span class="w"> </span>--capture<span class="w"> </span>--initial<span class="w"> </span>--directory<span class="w"> </span>.<span class="w"> </span>--output-file<span class="w"> </span>~/ros2_base.info
</pre></div>
</div>
<p>Exécutez des tests pour les packages qui comptent pour vos mesures de couverture. Par exemple, si vous mesurez <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code> également avec <code class="docutils literal notranslate"><span class="pre">test_rclcpp</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--packages-select<span class="w"> </span>rclcpp<span class="w"> </span>test_rclcpp
</pre></div>
</div>
<p>Capturez les résultats lcov avec une commande similaire, cette fois en supprimant le drapeau <code class="docutils literal notranslate"><span class="pre">--initial</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lcov<span class="w"> </span>--no-external<span class="w"> </span>--capture<span class="w"> </span>--directory<span class="w"> </span>.<span class="w"> </span>--output-file<span class="w"> </span>~/ros2.info
</pre></div>
</div>
<p>Combinez les fichiers de trace .info :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lcov<span class="w"> </span>--add-tracefile<span class="w"> </span>~/ros2_base.info<span class="w"> </span>--add-tracefile<span class="w"> </span>~/ros2.info<span class="w"> </span>--output-file<span class="w"> </span>~/ros2_coverage.info
</pre></div>
</div>
<p>Générez du HTML pour une visualisation et une annotation faciles des lignes couvertes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>coverage
genhtml<span class="w"> </span>~/ros2_coverage.info<span class="w"> </span>--output-directory<span class="w"> </span>coverage
</pre></div>
</div>
</div>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="../Contributing.html" class="btn btn-neutral float-left" title="Contribuant" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="Code-Style-Language-Versions.html" class="btn btn-neutral float-right" title="Style de code et versions linguistiques" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Open Robotics.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>