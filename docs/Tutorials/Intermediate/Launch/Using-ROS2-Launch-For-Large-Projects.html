<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestion de grands projets &mdash; Documentation ROS 2 documentation </title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/translations.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Recherche" href="../../../search.html" />
    <link rel="next" title="tracé" href="../Tf2/Tf2-Main.html" />
    <link rel="prev" title="Utilisation des gestionnaires d’événements" href="Using-Event-Handlers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/Ubuntu-Install-Debians.html">Ubuntu (Debian)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/Windows-Install-Binary.html">Windows (binaire)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/RHEL-Install-RPMs.html">RHEL (RPM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/Alternatives.html">Alternatives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/Ubuntu-Development-Setup.html">gratuit (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/Ubuntu-Install-Binary.html">gratuit (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/Windows-Development-Setup.html">Windows (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/RHEL-Development-Setup.html">RHEL (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/RHEL-Install-Binary.html">RHEL (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/macOS-Development-Setup.html">mac OS (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/Fedora-Development-Setup.html">Fedora (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/Alternatives/Latest-Development-Setup.html">Dernier développement (source)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/Maintaining-a-Source-Checkout.html">Maintenir la vérification de la source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/Testing.html">Tester avec des binaires de pré-version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Installation/DDS-Implementations.html">Implémentations DDS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Plugins de sécurité Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connect DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Éclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">DDS rapide eProsima</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Releases.html">Distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../Releases/Release-Humble-Hawksbill.html">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Humble-Hawksbill-Complete-Changelog.html">Journal des modifications de Humble Hawksbill</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Releases/Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Releases/Release-Rolling-Ridley.html">Rouler Ridley (<code class="docutils literal notranslate"><span class="pre">rouler</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Releases/Development.html">Développement Répartition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Iron-Irwini.html">ROS 2 Iron Irwini (nom de code “iron”; mai 2023)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Releases/End-of-Life.html">Distributions en fin de vie</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Galactic-Geochelone.html">Géochelone Galactique (<code class="docutils literal notranslate"><span class="pre">galactique</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Releases/Galactic-Geochelone-Complete-Changelog.html">Journal des modifications de Galactic Geochelone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Eloquent-Elusor.html">Eloquent Elusor (``éloquent””)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Dashing-Diademata.html">Dashing Diademata (<code class="docutils literal notranslate"><span class="pre">fringant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Crystal-Clemmys.html">Cristal Clemmys (<code class="docutils literal notranslate"><span class="pre">cristal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Bouncy-Bolson.html">Bouncy Bolson (<code class="docutils literal notranslate"><span class="pre">rebondissant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Release-Ardent-Apalone.html">Apalone ardent (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Beta3-Overview.html">Bêta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Beta2-Overview.html">Bêta 2 (<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Beta1-Overview.html">Bêta 1 (<code class="docutils literal notranslate"><span class="pre">Asphalte</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Releases/Alpha-Overview.html">Alphas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Releases/Release-Process.html">Processus de développement d’une version</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../Tutorials.html">Tutoriels</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../Beginner-CLI-Tools.html">Débutant : outils CLI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Configuring-ROS2-Environment.html">Configuration de l’environnement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">Utiliser <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code> et <code class="docutils literal notranslate"><span class="pre">rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">Comprendre les nœuds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">Comprendre les sujets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">Comprendre les services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">Comprendre les paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">Comprendre les actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> pour afficher les journaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">Nœuds de lancement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">Enregistrement et lecture de données</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Beginner-Client-Libraries.html">Débutant : Bibliothèques clientes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Colcon-Tutorial.html">Utiliser <code class="docutils literal notranslate"><span class="pre">colcon</span></code> pour créer des packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">Créer un espace de travail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">Création d’un paquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">Ecrire un service et un client simples (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">Écrire un service et un client simples (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">Création de fichiers msg et srv personnalisés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">Implémentation d’interfaces personnalisées</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">Utiliser des paramètres dans une classe (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">Utiliser des paramètres dans une classe (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">Utiliser <code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> pour identifier les problèmes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Beginner-Client-Libraries/Pluginlib.html">Créer et utiliser des plugins (C++)</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../Intermediate.html">Intermédiaire</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Rosdep.html">Gestion des dépendances avec rosdep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Creating-an-Action.html">Créer une action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Writing-an-Action-Server-Client/Cpp.html">Ecriture d’un serveur d’action et d’un client (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Writing-an-Action-Server-Client/Py.html">Ecriture d’un serveur d’action et d’un client (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Composition.html">Composer plusieurs nœuds en un seul processus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Monitoring-For-Parameter-Changes-CPP.html">Surveillance des changements de paramètres (C++)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="Launch-Main.html">Lancement</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Creating-Launch-Files.html">Création d’un fichier de lancement</a></li>
<li class="toctree-l4"><a class="reference internal" href="Launch-system.html">Intégration des fichiers de lancement dans les packages ROS 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="Using-Substitutions.html">Utiliser des substitutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="Using-Event-Handlers.html">Utilisation des gestionnaires d’événements</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Gestion de grands projets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tf2/Tf2-Main.html">tracé</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Introduction-To-Tf2.html">Présentation de <code class="docutils literal notranslate"><span class="pre">tf2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">Écrire un diffuseur statique (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">Écrire un diffuseur statique (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Writing-A-Tf2-Broadcaster-Py.html">Écrire un diffuseur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">Ecrire un diffuseur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Writing-A-Tf2-Listener-Py.html">Écrire un écouteur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Writing-A-Tf2-Listener-Cpp.html">Écrire un écouteur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Adding-A-Frame-Py.html">Ajouter un cadre (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Adding-A-Frame-Cpp.html">Ajouter un cadre (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Learning-About-Tf2-And-Time-Py.html">Utiliser le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Learning-About-Tf2-And-Time-Cpp.html">Utilisation du temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Time-Travel-With-Tf2-Py.html">Voyager dans le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Time-Travel-With-Tf2-Cpp.html">Voyager dans le temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Debugging-Tf2-Problems.html">Débogage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Quaternion-Fundamentals.html">Fondamentaux du quaternion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">Utiliser des types de données tamponnés avec <code class="docutils literal notranslate"><span class="pre">tf2_ros::MessageFilter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Testing/Testing-Main.html">Essai</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Testing/CLI.html">Exécution de tests dans ROS 2 à partir de la ligne de commande</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Testing/Python.html">Écrire des tests de base avec Python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">Construire un modèle de robot visuel à partir de zéro</a></li>
<li class="toctree-l4"><a class="reference internal" href="../URDF/Building-a-Movable-Robot-Model-with-URDF.html">Construire un modèle de robot mobile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">Ajout de propriétés physiques et de collision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">Utiliser Xacro pour nettoyer votre code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../URDF/Using-URDF-with-Robot-State-Publisher.html">Utiliser URDF avec <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced.html">Avancé</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">Activation des statistiques de sujet (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Discovery-Server/Discovery-Server.html">Utilisation de Fast DDS Discovery Server comme protocole de découverte [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Allocator-Template-Tutorial.html">Implémentation d’un répartiteur de mémoire personnalisé</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/FastDDS-Configuration.html">Libérer le potentiel du middleware Fast DDS [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">Enregistrer un sac à partir d’un nœud (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">Enregistrer un sac à partir d’un nœud (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Simulators/Simulation-Main.html">Simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Simulators/Webots.html">Mise en place d’une simulation de robot (Webots)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Simulators/Gazebo.html">Mise en place d’une simulation de robot (Gazebo)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Advanced/Security/Security-Main.html">Sécurité</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Security/Introducing-ros2-security.html">Mise en place de la sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Security/The-Keystore.html">Comprendre le magasin de clés de sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Security/Security-on-Two.html">Garantir la sécurité sur toutes les machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Security/Examine-Traffic.html">Examen du trafic réseau</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Advanced/Security/Access-Controls.html">Paramétrage des contrôles d’accès</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Demos.html">Démos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Quality-of-Service.html">Utilisation des paramètres de qualité de service pour les réseaux avec perte</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Managed-Nodes.html">Gestion des nœuds avec des cycles de vie gérés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Intra-Process-Communication.html">Mettre en place une communication intra-process efficace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Rosbag-with-ROS1-Bridge.html">Enregistrement et lecture de données avec <code class="docutils literal notranslate"><span class="pre">rosbag</span></code> en utilisant le pont ROS 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Real-Time-Programming.html">Comprendre la programmation temps réel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/dummy-robot-demo.html">Expérimenter avec un robot factice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Logging-and-logger-configuration.html">Enregistrement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Demos/Content-Filtering-Subscription.html">Création d’un abonnement au filtrage de contenu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Miscellaneous.html">Divers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">Déploiement sur IBM Cloud Kubernetes [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Utiliser Eclipse Oxygen avec <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> [community-contributed]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Construire un noyau Linux en temps réel [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">Construire un package avec Eclipse 2021-06</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../How-To-Guides.html">Guides pratiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Installation-Troubleshooting.html">Dépannage de l’installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Developing-a-ROS-2-Package.html">Développement d’un package ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Ament-CMake-Documentation.html">documentation utilisateur ament_cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Ament-CMake-Python-Documentation.html">documentation utilisateur ament_cmake_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Launch-files-migration-guide.html">Migration des fichiers de lancement de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Launch-file-different-formats.html">Utilisation de Python, XML et YAML pour les fichiers de lancement ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Launching-composable-nodes.html">Utilisation du lancement de ROS 2 pour lancer des nœuds composables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Parameters-YAML-files-migration-guide.html">Migration des fichiers de paramètres YAML de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Node-arguments.html">Passer des arguments ROS aux nœuds via la ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Sync-Vs-Async.html">Clients de service synchrones ou asynchrones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/DDS-tuning.html">Informations de réglage DDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2 : Remplacement des politiques de QoS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Working-with-multiple-RMW-implementations.html">Travailler avec plusieurs implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Cross-compilation.html">Compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Releasing/Releasing-a-Package.html">Libérer un paquet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../How-To-Guides/Releasing/First-Time-Release.html">Première sortie</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../How-To-Guides/Releasing/Subsequent-Releases.html">Versions ultérieures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../How-To-Guides/Releasing/Release-Team-Repository.html">Équipe de publication / Référentiel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../How-To-Guides/Releasing/Release-Track.html">Piste de sortie</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Using-Python-Packages.html">Utilisation de packages Python avec ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/RQt-Port-Plugin-Windows.html">Portage des plugins RQt vers Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">Exécution de nœuds ROS 2 dans Docker [contribution de la communauté]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html">Visualiser les données ROS 2 avec Foxglove Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Package-maintainer-guide.html">Guide du responsable du paquet ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Building-a-Custom-Debian-Package.html">Construire un paquet Debian personnalisé</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Building-ROS-2-with-Tracing-Instrumentation.html">Construire ROS 2 avec instrumentation de traçage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Topics-Services-Actions.html">Sujets vs Services vs Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Using-Variants.html">Utiliser des variantes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Using-ros2-param.html">Utilisation de l’outil de ligne de commande <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> avec ROS en amont sur Ubuntu 22.04</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html">Désactivation des messages prêtés sans copie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Installing-on-Raspberry-Pi.html">ROS 2 sur Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/Using-callback-groups.html">Utilisation des groupes de rappel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../How-To-Guides/RQt-Source-Install.html">Construire RQt à partir de la source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../How-To-Guides/RQt-Source-Install-MacOS.html">Construire RQt à partir de la source sur macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../How-To-Guides/RQt-Source-Install-Windows10.html">Construire RQt à partir de la source sur Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Concepts.html">Notions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Domain-ID.html">Le ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Different-Middleware-Vendors.html">À propos des différents fournisseurs ROS 2 DDS/RTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Logging.html">À propos de la journalisation et de la configuration de l’enregistreur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Quality-of-Service-Settings.html">À propos des paramètres de qualité de service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-ROS-Interfaces.html">À propos des interfaces ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-ROS-2-Parameters.html">À propos des paramètres dans ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Executors.html">Exécuteurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Topic-Statistics.html">À propos des statistiques de sujet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Command-Line-Tools.html">Introspection avec des outils en ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-RQt.html">Présentation et utilisation de RQt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Composition.html">À propos de la composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Catment.html">Sur le mélange d’ament et de chaton (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Cross-Compilation.html">À propos de la compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Security.html">À propos de la sécurité ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Tf2.html">À propos de TF2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Build-System.html">À propos du système de construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Internal-Interfaces.html">À propos des interfaces ROS 2 internes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-Middleware-Implementations.html">À propos des implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Contact.html">Contacter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../The-ROS2-Project.html">Le projet ROS 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/Contributing.html">Contribuant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Developer-Guide.html">Guide du développeur ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">Style de code et versions linguistiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Quality-Guide.html">Guide qualité : assurer la qualité du code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Migration-Guide.html">Guide de migration depuis ROS 1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Migration-Guide-Python.html">Guide de migration Python depuis ROS 1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Build-Farms.html">Fermes de construction ROS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Trucs et astuces Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">Contribuer à la documentation ROS 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/Features.html">Statut des fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/Feature-Ideas.html">Idées de fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/Roadmap.html">Feuille de route</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/ROSCon-Content.html">Pourparlers ROSCon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/Governance.html">Gouvernance du projet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">Charte du comité de pilotage technique ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">Processus d’admission des candidats ROS 2 TSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">Comment démarrer un groupe de travail communautaire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../The-ROS2-Project/Marketing.html">Commercialisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Related-Projects.html">Projets liés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../Related-Projects/Intel-ROS2-Projects.html">Projets Intel ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Related-Projects/Nvidia-ROS2-Projects.html">Projets NVIDIA ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Glossary.html">Glossaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Citations.html">Citations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../Tutorials.html">Tutoriels</a></li>
          <li class="breadcrumb-item"><a href="../../Intermediate.html">Intermédiaire</a></li>
          <li class="breadcrumb-item"><a href="Launch-Main.html">Lancement</a></li>
      <li class="breadcrumb-item active">Gestion de grands projets</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/rolling/source/Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.rst" class="fa fa-github"> Éditer sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="managing-large-projects">
<span id="usingros2launchforlargeprojects"></span><h1>Gestion de grands projets<a class="headerlink" href="#managing-large-projects" title="Lien permanent vers ce titre"></a></h1>
<p><strong>Objectif :</strong> Apprendre les meilleures pratiques de gestion de grands projets à l’aide des fichiers de lancement ROS 2.</p>
<p><strong>Niveau du didacticiel :</strong> Intermédiaire</p>
<p><strong>Durée :</strong> 20 minutes</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Contenu</p>
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id1">Arrière-plan</a></p></li>
<li><p><a class="reference internal" href="#prerequisites" id="id2">Conditions préalables</a></p></li>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#writing-launch-files" id="id4">Ecriture des fichiers de lancement</a></p>
<ul>
<li><p><a class="reference internal" href="#top-level-organization" id="id5">1 Organisation au plus haut niveau</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id6">2 paramètres</a></p>
<ul>
<li><p><a class="reference internal" href="#setting-parameters-in-the-launch-file" id="id7">2.1 Réglage des paramètres dans le fichier de lancement</a></p></li>
<li><p><a class="reference internal" href="#loading-parameters-from-yaml-file" id="id8">2.2 Chargement des paramètres depuis le fichier YAML</a></p></li>
<li><p><a class="reference internal" href="#using-wildcards-in-yaml-files" id="id9">2.3 Utilisation de caractères génériques dans les fichiers YAML</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#namespaces" id="id10">3 espaces de noms</a></p></li>
<li><p><a class="reference internal" href="#reusing-nodes" id="id11">4 Réutiliser les nœuds</a></p></li>
<li><p><a class="reference internal" href="#parameter-overrides" id="id12">5 Remplacements de paramètres</a></p></li>
<li><p><a class="reference internal" href="#remapping" id="id13">6 Remappage</a></p></li>
<li><p><a class="reference internal" href="#config-files" id="id14">7 fichiers de configuration</a></p></li>
<li><p><a class="reference internal" href="#environment-variables" id="id15">8 variables d’environnement</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#running-launch-files" id="id16">Exécution des fichiers de lancement</a></p>
<ul>
<li><p><a class="reference internal" href="#update-setup-py" id="id17">1 Mettre à jour setup.py</a></p></li>
<li><p><a class="reference internal" href="#build-and-run" id="id18">2 Construire et exécuter</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary" id="id19">Résumé</a></p></li>
</ul>
</div>
<div class="section" id="background">
<h2><a class="toc-backref" href="#id1">Arrière-plan</a><a class="headerlink" href="#background" title="Lien permanent vers ce titre"></a></h2>
<p>Ce didacticiel décrit quelques conseils pour écrire des fichiers de lancement pour des projets volumineux. L’accent est mis sur la façon de structurer les fichiers de lancement afin qu’ils puissent être réutilisés autant que possible dans différentes situations. En outre, il couvre des exemples d’utilisation de différents outils de lancement ROS 2, tels que les paramètres, les fichiers YAML, les remappages, les espaces de noms, les arguments par défaut et les configurations RViz.</p>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id2">Conditions préalables</a><a class="headerlink" href="#prerequisites" title="Lien permanent vers ce titre"></a></h2>
<p>Ce tutoriel utilise <a class="reference internal" href="../../Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html"><span class="doc">turtlesim</span></a> et <a class="reference internal" href="../Tf2/Introduction-To-Tf2.html"><span class="doc">turtle_tf2_py</span></a> paquets. Ce didacticiel suppose également que vous avez <a class="reference internal" href="../../Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html"><span class="doc">créé un nouveau package</span></a> de type de construction <code class="docutils literal notranslate"><span class="pre">ament_python</span></code> appelé <a href="#id1"><span class="problematic" id="id2">``</span></a>launch_tutorial <a href="#id3"><span class="problematic" id="id4">``</span></a>.</p>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Lien permanent vers ce titre"></a></h2>
<p>Les grandes applications sur un robot impliquent généralement plusieurs nœuds interconnectés, chacun pouvant avoir de nombreux paramètres. La simulation de plusieurs tortues dans le simulateur de tortues peut servir de bon exemple. La simulation de tortue se compose de plusieurs nœuds de tortue, de la configuration mondiale et des nœuds de diffusion et d’écoute TF. Entre tous les nœuds, il existe un grand nombre de paramètres ROS qui affectent le comportement et l’apparence de ces nœuds. Les fichiers de lancement ROS 2 nous permettent de démarrer tous les nœuds et de définir les paramètres correspondants en un seul endroit. À la fin d’un didacticiel, vous construirez le fichier de lancement <code class="docutils literal notranslate"><span class="pre">launch_turtlesim.launch.py</span></code> dans le package <code class="docutils literal notranslate"><span class="pre">launch_tutorial</span></code>. Ce fichier de lancement fera apparaître différents nœuds responsables de la simulation de deux simulations turtlesim, du démarrage des diffuseurs et de l’écouteur TF, du chargement des paramètres et du lancement d’une configuration RViz. Dans ce didacticiel, nous allons passer en revue ce fichier de lancement et toutes les fonctionnalités associées utilisées.</p>
</div>
<div class="section" id="writing-launch-files">
<h2><a class="toc-backref" href="#id4">Ecriture des fichiers de lancement</a><a class="headerlink" href="#writing-launch-files" title="Lien permanent vers ce titre"></a></h2>
<div class="section" id="top-level-organization">
<h3><a class="toc-backref" href="#id5">1 Organisation au plus haut niveau</a><a class="headerlink" href="#top-level-organization" title="Lien permanent vers ce titre"></a></h3>
<p>L’un des objectifs du processus d’écriture des fichiers de lancement devrait être de les rendre aussi réutilisables que possible. Cela peut être fait en regroupant les nœuds et les configurations associés dans des fichiers de lancement distincts. Ensuite, un fichier de lancement de niveau supérieur dédié à une configuration spécifique pourrait être écrit. Cela permettrait de se déplacer entre des robots identiques sans modifier du tout les fichiers de lancement. Même un changement tel que le passage d’un robot réel à un robot simulé peut être effectué avec seulement quelques changements.</p>
<p>Nous allons maintenant passer en revue la structure de fichier de lancement de niveau supérieur qui rend cela possible. Tout d’abord, nous allons créer un fichier de lancement qui appellera des fichiers de lancement séparés. Pour ce faire, créons un fichier <code class="docutils literal notranslate"><span class="pre">launch_turtlesim.launch.py</span></code> dans le dossier <code class="docutils literal notranslate"><span class="pre">/launch</span></code> de notre package <code class="docutils literal notranslate"><span class="pre">launch_tutorial</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">ament_index_python.packages</span> <span class="kn">import</span> <span class="n">get_package_share_directory</span>

<span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">IncludeLaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.launch_description_sources</span> <span class="kn">import</span> <span class="n">PythonLaunchDescriptionSource</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="n">turtlesim_world_1</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/turtlesim_world_1.launch.py&#39;</span><span class="p">])</span>
      <span class="p">)</span>
   <span class="n">turtlesim_world_2</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/turtlesim_world_2.launch.py&#39;</span><span class="p">])</span>
      <span class="p">)</span>
   <span class="n">broadcaster_listener_nodes</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/broadcaster_listener.launch.py&#39;</span><span class="p">]),</span>
      <span class="n">launch_arguments</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;target_frame&#39;</span><span class="p">:</span> <span class="s1">&#39;carrot1&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
      <span class="p">)</span>
   <span class="n">mimic_node</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/mimic.launch.py&#39;</span><span class="p">])</span>
      <span class="p">)</span>
   <span class="n">fixed_frame_node</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/fixed_broadcaster.launch.py&#39;</span><span class="p">])</span>
      <span class="p">)</span>
   <span class="n">rviz_node</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/turtlesim_rviz.launch.py&#39;</span><span class="p">])</span>
      <span class="p">)</span>

   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">turtlesim_world_1</span><span class="p">,</span>
      <span class="n">turtlesim_world_2</span><span class="p">,</span>
      <span class="n">broadcaster_listener_nodes</span><span class="p">,</span>
      <span class="n">mimic_node</span><span class="p">,</span>
      <span class="n">fixed_frame_node</span><span class="p">,</span>
      <span class="n">rviz_node</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Ce fichier de lancement inclut un ensemble d’autres fichiers de lancement. Chacun de ces fichiers de lancement inclus contient des nœuds, des paramètres et éventuellement des inclusions imbriquées, qui se rapportent à une partie du système. Pour être exact, nous lançons deux mondes de simulation turtlesim, un diffuseur TF, un écouteur TF, un synoptique, un diffuseur à cadre fixe et des nœuds RViz.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Conseil de conception : les fichiers de lancement de niveau supérieur doivent être courts, se composer d’inclusions dans d’autres fichiers correspondant aux sous-composants de l’application et des paramètres couramment modifiés.</p>
</div>
<p>L’écriture des fichiers de lancement de la manière suivante facilite l’échange d’un élément du système, comme nous le verrons plus tard. Cependant, il existe des cas où certains nœuds ou fichiers de lancement doivent être lancés séparément pour des raisons de performances et d’utilisation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Conseil de conception : Soyez conscient des compromis lorsque vous décidez du nombre de fichiers de lancement de niveau supérieur dont votre application a besoin.</p>
</div>
</div>
<div class="section" id="parameters">
<h3><a class="toc-backref" href="#id6">2 paramètres</a><a class="headerlink" href="#parameters" title="Lien permanent vers ce titre"></a></h3>
<div class="section" id="setting-parameters-in-the-launch-file">
<h4><a class="toc-backref" href="#id7">2.1 Réglage des paramètres dans le fichier de lancement</a><a class="headerlink" href="#setting-parameters-in-the-launch-file" title="Lien permanent vers ce titre"></a></h4>
<p>Nous allons commencer par écrire un fichier de lancement qui lancera notre première simulation turtlesim. Tout d’abord, créez un nouveau fichier appelé <code class="docutils literal notranslate"><span class="pre">turtlesim_world_1.launch.py</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="nn">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span><span class="p">,</span> <span class="n">TextSubstitution</span>

<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="n">background_r_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
      <span class="s1">&#39;background_r&#39;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
   <span class="p">)</span>
   <span class="n">background_g_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
      <span class="s1">&#39;background_g&#39;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;84&#39;</span><span class="p">)</span>
   <span class="p">)</span>
   <span class="n">background_b_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
      <span class="s1">&#39;background_b&#39;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;122&#39;</span><span class="p">)</span>
   <span class="p">)</span>

   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">background_r_launch_arg</span><span class="p">,</span>
      <span class="n">background_g_launch_arg</span><span class="p">,</span>
      <span class="n">background_b_launch_arg</span><span class="p">,</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtlesim_node&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span>
         <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span>
            <span class="s1">&#39;background_r&#39;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;background_r&#39;</span><span class="p">),</span>
            <span class="s1">&#39;background_g&#39;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;background_g&#39;</span><span class="p">),</span>
            <span class="s1">&#39;background_b&#39;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;background_b&#39;</span><span class="p">),</span>
         <span class="p">}]</span>
      <span class="p">),</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Ce fichier de lancement démarre le nœud <code class="docutils literal notranslate"><span class="pre">turtlesim_node</span></code>, qui démarre la simulation turtlesim, avec les paramètres de configuration de la simulation qui sont définis et transmis aux nœuds.</p>
</div>
<div class="section" id="loading-parameters-from-yaml-file">
<h4><a class="toc-backref" href="#id8">2.2 Chargement des paramètres depuis le fichier YAML</a><a class="headerlink" href="#loading-parameters-from-yaml-file" title="Lien permanent vers ce titre"></a></h4>
<p>Lors du second lancement, nous lancerons une seconde simulation turtlesim avec une configuration différente. Créez maintenant un fichier <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2.launch.py</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">ament_index_python.packages</span> <span class="kn">import</span> <span class="n">get_package_share_directory</span>

<span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="n">config</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
      <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span>
      <span class="s1">&#39;config&#39;</span><span class="p">,</span>
      <span class="s1">&#39;turtlesim.yaml&#39;</span>
      <span class="p">)</span>

   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtlesim_node&#39;</span><span class="p">,</span>
         <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;turtlesim2&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span>
         <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">config</span><span class="p">]</span>
      <span class="p">)</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Ce fichier de lancement lancera le même <code class="docutils literal notranslate"><span class="pre">turtlesim_node</span></code> avec des valeurs de paramètres chargées directement depuis le fichier de configuration YAML. La définition d’arguments et de paramètres dans les fichiers YAML facilite le stockage et le chargement d’un grand nombre de variables. De plus, les fichiers YAML peuvent être facilement exportés à partir de la liste actuelle <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code>. Pour savoir comment procéder, reportez-vous au didacticiel <a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html"><span class="doc">Understand parameters</span></a>.</p>
<p>Créons maintenant un fichier de configuration, <code class="docutils literal notranslate"><span class="pre">turtlesim.yaml</span></code>, dans le dossier <code class="docutils literal notranslate"><span class="pre">/config</span></code> de notre package, qui sera chargé par notre fichier de lancement.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">/turtlesim2/sim</span><span class="p">:</span>
<span class="w">   </span><span class="nt">ros__parameters</span><span class="p">:</span>
<span class="w">      </span><span class="nt">background_b</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
<span class="w">      </span><span class="nt">background_g</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86</span>
<span class="w">      </span><span class="nt">background_r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>
</pre></div>
</div>
<p>Si nous démarrons maintenant le fichier de lancement <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2.launch.py</span></code>, nous lancerons le <code class="docutils literal notranslate"><span class="pre">turtlesim_node</span></code> avec des couleurs d’arrière-plan préconfigurées.</p>
<p>Pour en savoir plus sur l’utilisation des paramètres et l’utilisation des fichiers YAML, consultez le didacticiel <a class="reference internal" href="../../Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html"><span class="doc">Understand parameters</span></a>.</p>
</div>
<div class="section" id="using-wildcards-in-yaml-files">
<h4><a class="toc-backref" href="#id9">2.3 Utilisation de caractères génériques dans les fichiers YAML</a><a class="headerlink" href="#using-wildcards-in-yaml-files" title="Lien permanent vers ce titre"></a></h4>
<p>Il y a des cas où nous voulons définir les mêmes paramètres dans plusieurs nœuds. Ces nœuds peuvent avoir des espaces de noms ou des noms différents mais avoir toujours les mêmes paramètres. La définition de fichiers YAML distincts qui définissent explicitement les espaces de noms et les noms de nœuds n’est pas efficace. Une solution consiste à utiliser des caractères génériques, qui remplacent les caractères inconnus dans une valeur de texte, pour appliquer des paramètres à plusieurs nœuds différents.</p>
<p>Créons maintenant un nouveau fichier <code class="docutils literal notranslate"><span class="pre">turtlesim_world_3.launch.py</span></code> similaire à <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2.launch.py</span></code> pour inclure un autre nœud <code class="docutils literal notranslate"><span class="pre">turtlesim_node</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">Node</span><span class="p">(</span>
   <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
   <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtlesim_node&#39;</span><span class="p">,</span>
   <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;turtlesim3&#39;</span><span class="p">,</span>
   <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span>
   <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">config</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Cependant, le chargement du même fichier YAML n’affectera pas l’apparence du troisième monde turtlesim. La raison en est que ses paramètres sont stockés sous un autre espace de noms, comme indiqué ci-dessous :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/turtlesim3/sim:</span>
<span class="go">   background_b</span>
<span class="go">   background_g</span>
<span class="go">   background_r</span>
</pre></div>
</div>
<p>Par conséquent, au lieu de créer une nouvelle configuration pour le même nœud qui utilise les mêmes paramètres, nous pouvons utiliser la syntaxe des caractères génériques. <code class="docutils literal notranslate"><span class="pre">/**</span></code> attribuera tous les paramètres à chaque nœud, malgré les différences de noms de nœuds et d’espaces de noms.</p>
<p>Nous allons maintenant mettre à jour le <code class="docutils literal notranslate"><span class="pre">turtlesim.yaml</span></code>, dans le dossier <code class="docutils literal notranslate"><span class="pre">/config</span></code> de la manière suivante :</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">/**</span><span class="p">:</span>
<span class="w">   </span><span class="nt">ros__parameters</span><span class="p">:</span>
<span class="w">      </span><span class="nt">background_b</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
<span class="w">      </span><span class="nt">background_g</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86</span>
<span class="w">      </span><span class="nt">background_r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>
</pre></div>
</div>
<p>Incluez maintenant la description de lancement <code class="docutils literal notranslate"><span class="pre">turtlesim_world_3.launch.py</span></code> dans notre fichier de lancement principal. L’utilisation de ce fichier de configuration dans nos descriptions de lancement affectera les paramètres <code class="docutils literal notranslate"><span class="pre">background_b</span></code>, <code class="docutils literal notranslate"><span class="pre">background_g</span></code> et <code class="docutils literal notranslate"><span class="pre">background_r</span></code> aux valeurs spécifiées dans les nœuds <code class="docutils literal notranslate"><span class="pre">turtlesim3/sim</span></code> et <code class="docutils literal notranslate"><span class="pre">turtlesim2/sim</span></code>.</p>
</div>
</div>
<div class="section" id="namespaces">
<h3><a class="toc-backref" href="#id10">3 espaces de noms</a><a class="headerlink" href="#namespaces" title="Lien permanent vers ce titre"></a></h3>
<p>Comme vous l’avez peut-être remarqué, nous avons défini l’espace de noms pour le monde turlesim dans le fichier <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2.launch.py</span></code>. Les espaces de noms uniques permettent au système de démarrer deux nœuds similaires sans conflit de nom de nœud ou de nom de rubrique.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;turtlesim2&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Cependant, si le fichier de lancement contient un grand nombre de nœuds, définir des espaces de noms pour chacun d’eux peut devenir fastidieux. Pour résoudre ce problème, l’action <code class="docutils literal notranslate"><span class="pre">PushROSNamespace</span></code> peut être utilisée pour définir l’espace de noms global pour chaque description de fichier de lancement. Chaque nœud imbriqué héritera automatiquement de cet espace de noms.</p>
<p>Pour ce faire, nous devons d’abord supprimer la ligne <code class="docutils literal notranslate"><span class="pre">namespace='turtlesim2'</span></code> du fichier <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2.launch.py</span></code>. Ensuite, nous devons mettre à jour le <code class="docutils literal notranslate"><span class="pre">launch_turtlesim.launch.py</span></code> pour inclure les lignes suivantes :</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">GroupAction</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">PushROSNamespace</span>

   <span class="o">...</span>
   <span class="n">turtlesim_world_2</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
      <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
         <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="s1">&#39;/turtlesim_world_2.launch.py&#39;</span><span class="p">])</span>
      <span class="p">)</span>
   <span class="n">turtlesim_world_2_with_namespace</span> <span class="o">=</span> <span class="n">GroupAction</span><span class="p">(</span>
     <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
         <span class="n">PushROSNamespace</span><span class="p">(</span><span class="s1">&#39;turtlesim2&#39;</span><span class="p">),</span>
         <span class="n">turtlesim_world_2</span><span class="p">,</span>
      <span class="p">]</span>
   <span class="p">)</span>
</pre></div>
</div>
<p>Enfin, nous remplaçons <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2</span></code> par <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2_with_namespace</span></code> dans l’instruction <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">LaunchDescription</span></code>. Par conséquent, chaque nœud dans la description de lancement <code class="docutils literal notranslate"><span class="pre">turtlesim_world_2.launch.py</span></code> aura un espace de noms <code class="docutils literal notranslate"><span class="pre">turtlesim2</span></code>.</p>
</div>
<div class="section" id="reusing-nodes">
<h3><a class="toc-backref" href="#id11">4 Réutiliser les nœuds</a><a class="headerlink" href="#reusing-nodes" title="Lien permanent vers ce titre"></a></h3>
<p>Créez maintenant un fichier <code class="docutils literal notranslate"><span class="pre">broadcaster_listener.launch.py</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="nn">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span>

<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
         <span class="s1">&#39;target_frame&#39;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="s1">&#39;turtle1&#39;</span><span class="p">,</span>
         <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Target frame name.&#39;</span>
      <span class="p">),</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_py&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_broadcaster&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;broadcaster1&#39;</span><span class="p">,</span>
         <span class="n">parameters</span><span class="o">=</span><span class="p">[</span>
            <span class="p">{</span><span class="s1">&#39;turtlename&#39;</span><span class="p">:</span> <span class="s1">&#39;turtle1&#39;</span><span class="p">}</span>
         <span class="p">]</span>
      <span class="p">),</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_py&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_broadcaster&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;broadcaster2&#39;</span><span class="p">,</span>
         <span class="n">parameters</span><span class="o">=</span><span class="p">[</span>
            <span class="p">{</span><span class="s1">&#39;turtlename&#39;</span><span class="p">:</span> <span class="s1">&#39;turtle2&#39;</span><span class="p">}</span>
         <span class="p">]</span>
      <span class="p">),</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_py&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_listener&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;listener&#39;</span><span class="p">,</span>
         <span class="n">parameters</span><span class="o">=</span><span class="p">[</span>
            <span class="p">{</span><span class="s1">&#39;target_frame&#39;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;target_frame&#39;</span><span class="p">)}</span>
         <span class="p">]</span>
      <span class="p">),</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Dans ce fichier, nous avons déclaré l’argument de lancement <code class="docutils literal notranslate"><span class="pre">target_frame</span></code> avec une valeur par défaut de <code class="docutils literal notranslate"><span class="pre">turtle1</span></code>. La valeur par défaut signifie que le fichier de lancement peut recevoir un argument à transmettre à ses nœuds, ou si l’argument n’est pas fourni, il transmettra la valeur par défaut à ses nœuds.</p>
<p>Ensuite, nous utilisons le nœud <code class="docutils literal notranslate"><span class="pre">turtle_tf2_broadcaster</span></code> deux fois en utilisant des noms et des paramètres différents lors du lancement. Cela nous permet de dupliquer le même nœud sans conflits.</p>
<p>Nous démarrons également un nœud <code class="docutils literal notranslate"><span class="pre">turtle_tf2_listener</span></code> et définissons son paramètre <code class="docutils literal notranslate"><span class="pre">target_frame</span></code> que nous avons déclaré et acquis ci-dessus.</p>
</div>
<div class="section" id="parameter-overrides">
<h3><a class="toc-backref" href="#id12">5 Remplacements de paramètres</a><a class="headerlink" href="#parameter-overrides" title="Lien permanent vers ce titre"></a></h3>
<p>Rappelez-vous que nous avons appelé le fichier <code class="docutils literal notranslate"><span class="pre">broadcaster_listener.launch.py</span></code> dans notre fichier de lancement de niveau supérieur. En plus de cela, nous lui avons passé l’argument de lancement <code class="docutils literal notranslate"><span class="pre">target_frame</span></code> comme indiqué ci-dessous :</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">broadcaster_listener_nodes</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
   <span class="n">PythonLaunchDescriptionSource</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
      <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;launch_tutorial&#39;</span><span class="p">),</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
      <span class="s1">&#39;/broadcaster_listener.launch.py&#39;</span><span class="p">]),</span>
   <span class="n">launch_arguments</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;target_frame&#39;</span><span class="p">:</span> <span class="s1">&#39;carrot1&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
   <span class="p">)</span>
</pre></div>
</div>
<p>Cette syntaxe nous permet de changer le cadre cible de l’objectif par défaut en <code class="docutils literal notranslate"><span class="pre">carrot1</span></code>. Si vous souhaitez que <code class="docutils literal notranslate"><span class="pre">turtle2</span></code> suive <code class="docutils literal notranslate"><span class="pre">turtle1</span></code> au lieu de <code class="docutils literal notranslate"><span class="pre">carrot1</span></code>, supprimez simplement la ligne qui définit <code class="docutils literal notranslate"><span class="pre">launch_arguments</span></code>. Cela affectera à <code class="docutils literal notranslate"><span class="pre">target_frame</span></code> sa valeur par défaut, qui est <code class="docutils literal notranslate"><span class="pre">turtle1</span></code>.</p>
</div>
<div class="section" id="remapping">
<h3><a class="toc-backref" href="#id13">6 Remappage</a><a class="headerlink" href="#remapping" title="Lien permanent vers ce titre"></a></h3>
<p>Créez maintenant un fichier <code class="docutils literal notranslate"><span class="pre">mimic.launch.py</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;mimic&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mimic&#39;</span><span class="p">,</span>
         <span class="n">remappings</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;/input/pose&#39;</span><span class="p">,</span> <span class="s1">&#39;/turtle2/pose&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;/output/cmd_vel&#39;</span><span class="p">,</span> <span class="s1">&#39;/turtlesim2/turtle1/cmd_vel&#39;</span><span class="p">),</span>
         <span class="p">]</span>
      <span class="p">)</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Ce fichier de lancement démarrera le nœud <code class="docutils literal notranslate"><span class="pre">mimic</span></code>, qui donnera des commandes à une tortue pour qu’elle suive l’autre. Le nœud est conçu pour recevoir la pose cible sur le sujet <code class="docutils literal notranslate"><span class="pre">/input/pose</span></code>. Dans notre cas, nous voulons remapper la pose cible du sujet <code class="docutils literal notranslate"><span class="pre">/turtle2/pose</span></code>. Enfin, nous remappons le sujet <code class="docutils literal notranslate"><span class="pre">/output/cmd_vel</span></code> à <code class="docutils literal notranslate"><span class="pre">/turtlesim2/turtle1/cmd_vel</span></code>. De cette façon, <code class="docutils literal notranslate"><span class="pre">turtle1</span></code> dans notre monde de simulation <code class="docutils literal notranslate"><span class="pre">turtlesim2</span></code> suivra <code class="docutils literal notranslate"><span class="pre">turtle2</span></code> dans notre monde initial de simulation de tortues.</p>
</div>
<div class="section" id="config-files">
<h3><a class="toc-backref" href="#id14">7 fichiers de configuration</a><a class="headerlink" href="#config-files" title="Lien permanent vers ce titre"></a></h3>
<p>Créons maintenant un fichier appelé <code class="docutils literal notranslate"><span class="pre">turtlesim_rviz.launch.py</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">ament_index_python.packages</span> <span class="kn">import</span> <span class="n">get_package_share_directory</span>

<span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="n">rviz_config</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
      <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;turtle_tf2_py&#39;</span><span class="p">),</span>
      <span class="s1">&#39;rviz&#39;</span><span class="p">,</span>
      <span class="s1">&#39;turtle_rviz.rviz&#39;</span>
      <span class="p">)</span>

   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">Node</span><span class="p">(</span>
         <span class="n">package</span><span class="o">=</span><span class="s1">&#39;rviz2&#39;</span><span class="p">,</span>
         <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;rviz2&#39;</span><span class="p">,</span>
         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;rviz2&#39;</span><span class="p">,</span>
         <span class="n">arguments</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-d&#39;</span><span class="p">,</span> <span class="n">rviz_config</span><span class="p">]</span>
      <span class="p">)</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Ce fichier de lancement démarrera le RViz avec le fichier de configuration défini dans le package <code class="docutils literal notranslate"><span class="pre">turtle_tf2_py</span></code>. Cette configuration RViz définira le cadre mondial, activera la visualisation TF et démarrera RViz avec une vue descendante.</p>
</div>
<div class="section" id="environment-variables">
<h3><a class="toc-backref" href="#id15">8 variables d’environnement</a><a class="headerlink" href="#environment-variables" title="Lien permanent vers ce titre"></a></h3>
<p>Créons maintenant le dernier fichier de lancement appelé <code class="docutils literal notranslate"><span class="pre">fixed_broadcaster.launch.py</span></code> dans notre package.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="nn">launch.substitutions</span> <span class="kn">import</span> <span class="n">EnvironmentVariable</span><span class="p">,</span> <span class="n">LaunchConfiguration</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
      <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
            <span class="s1">&#39;node_prefix&#39;</span><span class="p">,</span>
            <span class="n">default_value</span><span class="o">=</span><span class="p">[</span><span class="n">EnvironmentVariable</span><span class="p">(</span><span class="s1">&#39;USER&#39;</span><span class="p">),</span> <span class="s1">&#39;_&#39;</span><span class="p">],</span>
            <span class="n">description</span><span class="o">=</span><span class="s1">&#39;prefix for node name&#39;</span>
      <span class="p">),</span>
      <span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtle_tf2_py&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;fixed_frame_tf2_broadcaster&#39;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="p">[</span><span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;node_prefix&#39;</span><span class="p">),</span> <span class="s1">&#39;fixed_broadcaster&#39;</span><span class="p">],</span>
      <span class="p">),</span>
   <span class="p">])</span>
</pre></div>
</div>
<p>Ce fichier de lancement montre comment les variables d’environnement peuvent être appelées dans les fichiers de lancement. Les variables d’environnement peuvent être utilisées pour définir ou pousser des espaces de noms pour distinguer les nœuds sur différents ordinateurs ou robots.</p>
</div>
</div>
<div class="section" id="running-launch-files">
<h2><a class="toc-backref" href="#id16">Exécution des fichiers de lancement</a><a class="headerlink" href="#running-launch-files" title="Lien permanent vers ce titre"></a></h2>
<div class="section" id="update-setup-py">
<h3><a class="toc-backref" href="#id17">1 Mettre à jour setup.py</a><a class="headerlink" href="#update-setup-py" title="Lien permanent vers ce titre"></a></h3>
<p>Ouvrez <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> et ajoutez les lignes suivantes afin que les fichiers de lancement du dossier <code class="docutils literal notranslate"><span class="pre">launch/</span></code> et le fichier de configuration de <code class="docutils literal notranslate"><span class="pre">config/</span></code> soient installés. Le champ <code class="docutils literal notranslate"><span class="pre">data_files</span></code> devrait maintenant ressembler à ceci :</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">data_files</span><span class="o">=</span><span class="p">[</span>
      <span class="o">...</span>
      <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;share&#39;</span><span class="p">,</span> <span class="n">package_name</span><span class="p">,</span> <span class="s1">&#39;launch&#39;</span><span class="p">),</span>
         <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;launch&#39;</span><span class="p">,</span> <span class="s1">&#39;*.launch.py&#39;</span><span class="p">))),</span>
      <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;share&#39;</span><span class="p">,</span> <span class="n">package_name</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span><span class="p">),</span>
         <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">,</span> <span class="s1">&#39;*.yaml&#39;</span><span class="p">))),</span>
   <span class="p">],</span>
</pre></div>
</div>
</div>
<div class="section" id="build-and-run">
<h3><a class="toc-backref" href="#id18">2 Construire et exécuter</a><a class="headerlink" href="#build-and-run" title="Lien permanent vers ce titre"></a></h3>
<p>Pour enfin voir le résultat de notre code, construisez le package et lancez le fichier de lancement de niveau supérieur à l’aide de la commande suivante :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch launch_tutorial launch_turtlesim.launch.py</span>
</pre></div>
</div>
<p>Vous verrez maintenant les deux simulations de turtlesim démarrer. Il y a deux tortues dans le premier et une dans le second. Dans la première simulation, <code class="docutils literal notranslate"><span class="pre">turtle2</span></code> apparaît dans la partie inférieure gauche du monde. Son but est d’atteindre le repère <code class="docutils literal notranslate"><span class="pre">carrot1</span></code> qui est à cinq mètres de distance sur l’axe des abscisses par rapport au repère <code class="docutils literal notranslate"><span class="pre">turtle1</span></code>.</p>
<p>Le <code class="docutils literal notranslate"><span class="pre">turtlesim2/turtle1</span></code> dans le second est conçu pour imiter le comportement du <code class="docutils literal notranslate"><span class="pre">turtle2</span></code>.</p>
<p>Si vous voulez contrôler la <code class="docutils literal notranslate"><span class="pre">turtle1</span></code>, lancez le nœud teleop.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 run turtlesim turtle_teleop_key</span>
</pre></div>
</div>
<p>En conséquence, vous verrez une image similaire :</p>
<img alt="../../../_images/turtlesim_worlds.png" src="../../../_images/turtlesim_worlds.png" />
<p>En plus de cela, le RViz aurait dû démarrer. Il affichera tous les cadres de tortues par rapport au cadre <code class="docutils literal notranslate"><span class="pre">world</span></code>, dont l’origine se trouve dans le coin inférieur gauche.</p>
<img alt="../../../_images/turtlesim_rviz.png" src="../../../_images/turtlesim_rviz.png" />
</div>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id19">Résumé</a><a class="headerlink" href="#summary" title="Lien permanent vers ce titre"></a></h2>
<p>Dans ce didacticiel, vous avez découvert divers conseils et pratiques de gestion de projets volumineux à l’aide de fichiers de lancement ROS 2.</p>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="Using-Event-Handlers.html" class="btn btn-neutral float-left" title="Utilisation des gestionnaires d’événements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="../Tf2/Tf2-Main.html" class="btn btn-neutral float-right" title="tracé" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Open Robotics.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>