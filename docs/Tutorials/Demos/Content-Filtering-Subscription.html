<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Création d’un abonnement au filtrage de contenu &mdash; Documentation ROS 2 documentation </title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Tutorials/Demos/Content-Filtering-Subscription.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Divers" href="../Miscellaneous.html" />
    <link rel="prev" title="Enregistrement" href="Logging-and-logger-configuration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Ubuntu-Install-Debians.html">Ubuntu (Debian)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Windows-Install-Binary.html">Windows (binaire)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/RHEL-Install-RPMs.html">RHEL (RPM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Alternatives.html">Alternatives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Ubuntu-Development-Setup.html">gratuit (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Ubuntu-Install-Binary.html">gratuit (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Windows-Development-Setup.html">Windows (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/RHEL-Development-Setup.html">RHEL (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/RHEL-Install-Binary.html">RHEL (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/macOS-Development-Setup.html">mac OS (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Fedora-Development-Setup.html">Fedora (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Latest-Development-Setup.html">Dernier développement (source)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Maintaining-a-Source-Checkout.html">Maintenir la vérification de la source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Testing.html">Tester avec des binaires de pré-version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/DDS-Implementations.html">Implémentations DDS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Plugins de sécurité Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connect DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Éclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">DDS rapide eProsima</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Releases.html">Distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Humble-Hawksbill.html">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Humble-Hawksbill-Complete-Changelog.html">Journal des modifications de Humble Hawksbill</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Rolling-Ridley.html">Rouler Ridley (<code class="docutils literal notranslate"><span class="pre">rouler</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Development.html">Développement Répartition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Iron-Irwini.html">ROS 2 Iron Irwini (nom de code “iron”; mai 2023)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/End-of-Life.html">Distributions en fin de vie</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Galactic-Geochelone.html">Géochelone Galactique (<code class="docutils literal notranslate"><span class="pre">galactique</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Releases/Galactic-Geochelone-Complete-Changelog.html">Journal des modifications de Galactic Geochelone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Eloquent-Elusor.html">Eloquent Elusor (``éloquent””)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Dashing-Diademata.html">Dashing Diademata (<code class="docutils literal notranslate"><span class="pre">fringant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Crystal-Clemmys.html">Cristal Clemmys (<code class="docutils literal notranslate"><span class="pre">cristal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Bouncy-Bolson.html">Bouncy Bolson (<code class="docutils literal notranslate"><span class="pre">rebondissant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Ardent-Apalone.html">Apalone ardent (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta3-Overview.html">Bêta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta2-Overview.html">Bêta 2 (<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta1-Overview.html">Bêta 1 (<code class="docutils literal notranslate"><span class="pre">Asphalte</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Alpha-Overview.html">Alphas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Process.html">Processus de développement d’une version</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Tutorials.html">Tutoriels</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Beginner-CLI-Tools.html">Débutant : outils CLI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Configuring-ROS2-Environment.html">Configuration de l’environnement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">Utiliser <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code> et <code class="docutils literal notranslate"><span class="pre">rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">Comprendre les nœuds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">Comprendre les sujets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">Comprendre les services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">Comprendre les paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">Comprendre les actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> pour afficher les journaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">Nœuds de lancement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">Enregistrement et lecture de données</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Beginner-Client-Libraries.html">Débutant : Bibliothèques clientes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Colcon-Tutorial.html">Utiliser <code class="docutils literal notranslate"><span class="pre">colcon</span></code> pour créer des packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">Créer un espace de travail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">Création d’un paquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">Ecrire un service et un client simples (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">Écrire un service et un client simples (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">Création de fichiers msg et srv personnalisés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">Implémentation d’interfaces personnalisées</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">Utiliser des paramètres dans une classe (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">Utiliser des paramètres dans une classe (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">Utiliser <code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> pour identifier les problèmes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Pluginlib.html">Créer et utiliser des plugins (C++)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Intermediate.html">Intermédiaire</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Rosdep.html">Gestion des dépendances avec rosdep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Creating-an-Action.html">Créer une action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Writing-an-Action-Server-Client/Cpp.html">Ecriture d’un serveur d’action et d’un client (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Writing-an-Action-Server-Client/Py.html">Ecriture d’un serveur d’action et d’un client (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Composition.html">Composer plusieurs nœuds en un seul processus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Monitoring-For-Parameter-Changes-CPP.html">Surveillance des changements de paramètres (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Launch/Launch-Main.html">Lancement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Creating-Launch-Files.html">Création d’un fichier de lancement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Launch-system.html">Intégration des fichiers de lancement dans les packages ROS 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Using-Substitutions.html">Utiliser des substitutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Using-Event-Handlers.html">Utilisation des gestionnaires d’événements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">Gestion de grands projets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Tf2/Tf2-Main.html">tracé</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Introduction-To-Tf2.html">Présentation de <code class="docutils literal notranslate"><span class="pre">tf2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">Écrire un diffuseur statique (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">Écrire un diffuseur statique (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">Écrire un diffuseur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">Ecrire un diffuseur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">Écrire un écouteur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">Écrire un écouteur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Adding-A-Frame-Py.html">Ajouter un cadre (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Adding-A-Frame-Cpp.html">Ajouter un cadre (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">Utiliser le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">Utilisation du temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">Voyager dans le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">Voyager dans le temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Debugging-Tf2-Problems.html">Débogage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Quaternion-Fundamentals.html">Fondamentaux du quaternion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">Utiliser des types de données tamponnés avec <code class="docutils literal notranslate"><span class="pre">tf2_ros::MessageFilter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Testing/Testing-Main.html">Essai</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Testing/CLI.html">Exécution de tests dans ROS 2 à partir de la ligne de commande</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Testing/Python.html">Écrire des tests de base avec Python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">Construire un modèle de robot visuel à partir de zéro</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">Construire un modèle de robot mobile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">Ajout de propriétés physiques et de collision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">Utiliser Xacro pour nettoyer votre code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">Utiliser URDF avec <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Advanced.html">Avancé</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">Activation des statistiques de sujet (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Discovery-Server/Discovery-Server.html">Utilisation de Fast DDS Discovery Server comme protocole de découverte [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Allocator-Template-Tutorial.html">Implémentation d’un répartiteur de mémoire personnalisé</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/FastDDS-Configuration.html">Libérer le potentiel du middleware Fast DDS [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">Enregistrer un sac à partir d’un nœud (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">Enregistrer un sac à partir d’un nœud (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Simulators/Simulation-Main.html">Simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Simulators/Webots.html">Mise en place d’une simulation de robot (Webots)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Simulators/Gazebo.html">Mise en place d’une simulation de robot (Gazebo)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Security/Security-Main.html">Sécurité</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Introducing-ros2-security.html">Mise en place de la sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/The-Keystore.html">Comprendre le magasin de clés de sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Security-on-Two.html">Garantir la sécurité sur toutes les machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Examine-Traffic.html">Examen du trafic réseau</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Access-Controls.html">Paramétrage des contrôles d’accès</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../Demos.html">Démos</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Quality-of-Service.html">Utilisation des paramètres de qualité de service pour les réseaux avec perte</a></li>
<li class="toctree-l3"><a class="reference internal" href="Managed-Nodes.html">Gestion des nœuds avec des cycles de vie gérés</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intra-Process-Communication.html">Mettre en place une communication intra-process efficace</a></li>
<li class="toctree-l3"><a class="reference internal" href="Rosbag-with-ROS1-Bridge.html">Enregistrement et lecture de données avec <code class="docutils literal notranslate"><span class="pre">rosbag</span></code> en utilisant le pont ROS 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="Real-Time-Programming.html">Comprendre la programmation temps réel</a></li>
<li class="toctree-l3"><a class="reference internal" href="dummy-robot-demo.html">Expérimenter avec un robot factice</a></li>
<li class="toctree-l3"><a class="reference internal" href="Logging-and-logger-configuration.html">Enregistrement</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Création d’un abonnement au filtrage de contenu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Miscellaneous.html">Divers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">Déploiement sur IBM Cloud Kubernetes [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Utiliser Eclipse Oxygen avec <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> [community-contributed]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Construire un noyau Linux en temps réel [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">Construire un package avec Eclipse 2021-06</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../How-To-Guides.html">Guides pratiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Installation-Troubleshooting.html">Dépannage de l’installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Developing-a-ROS-2-Package.html">Développement d’un package ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Ament-CMake-Documentation.html">documentation utilisateur ament_cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Ament-CMake-Python-Documentation.html">documentation utilisateur ament_cmake_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launch-files-migration-guide.html">Migration des fichiers de lancement de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launch-file-different-formats.html">Utilisation de Python, XML et YAML pour les fichiers de lancement ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launching-composable-nodes.html">Utilisation du lancement de ROS 2 pour lancer des nœuds composables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Parameters-YAML-files-migration-guide.html">Migration des fichiers de paramètres YAML de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Node-arguments.html">Passer des arguments ROS aux nœuds via la ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Sync-Vs-Async.html">Clients de service synchrones ou asynchrones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/DDS-tuning.html">Informations de réglage DDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2 : Remplacement des politiques de QoS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Working-with-multiple-RMW-implementations.html">Travailler avec plusieurs implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Cross-compilation.html">Compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Releasing/Releasing-a-Package.html">Libérer un paquet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/First-Time-Release.html">Première sortie</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Subsequent-Releases.html">Versions ultérieures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Release-Team-Repository.html">Équipe de publication / Référentiel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Release-Track.html">Piste de sortie</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-Python-Packages.html">Utilisation de packages Python avec ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/RQt-Port-Plugin-Windows.html">Portage des plugins RQt vers Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">Exécution de nœuds ROS 2 dans Docker [contribution de la communauté]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html">Visualiser les données ROS 2 avec Foxglove Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Package-maintainer-guide.html">Guide du responsable du paquet ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Building-a-Custom-Debian-Package.html">Construire un paquet Debian personnalisé</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Building-ROS-2-with-Tracing-Instrumentation.html">Construire ROS 2 avec instrumentation de traçage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Topics-Services-Actions.html">Sujets vs Services vs Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-Variants.html">Utiliser des variantes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-ros2-param.html">Utilisation de l’outil de ligne de commande <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> avec ROS en amont sur Ubuntu 22.04</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html">Désactivation des messages prêtés sans copie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Installing-on-Raspberry-Pi.html">ROS 2 sur Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-callback-groups.html">Utilisation des groupes de rappel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install.html">Construire RQt à partir de la source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install-MacOS.html">Construire RQt à partir de la source sur macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install-Windows10.html">Construire RQt à partir de la source sur Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Concepts.html">Notions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Domain-ID.html">Le ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Different-Middleware-Vendors.html">À propos des différents fournisseurs ROS 2 DDS/RTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Logging.html">À propos de la journalisation et de la configuration de l’enregistreur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Quality-of-Service-Settings.html">À propos des paramètres de qualité de service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-Interfaces.html">À propos des interfaces ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Parameters.html">À propos des paramètres dans ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Executors.html">Exécuteurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Topic-Statistics.html">À propos des statistiques de sujet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Command-Line-Tools.html">Introspection avec des outils en ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-RQt.html">Présentation et utilisation de RQt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Composition.html">À propos de la composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Catment.html">Sur le mélange d’ament et de chaton (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Cross-Compilation.html">À propos de la compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Security.html">À propos de la sécurité ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Tf2.html">À propos de TF2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Build-System.html">À propos du système de construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Internal-Interfaces.html">À propos des interfaces ROS 2 internes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Middleware-Implementations.html">À propos des implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Contact.html">Contacter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../The-ROS2-Project.html">Le projet ROS 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Contributing.html">Contribuant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Developer-Guide.html">Guide du développeur ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">Style de code et versions linguistiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Quality-Guide.html">Guide qualité : assurer la qualité du code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Migration-Guide.html">Guide de migration depuis ROS 1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Migration-Guide-Python.html">Guide de migration Python depuis ROS 1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Build-Farms.html">Fermes de construction ROS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Trucs et astuces Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">Contribuer à la documentation ROS 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Features.html">Statut des fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Feature-Ideas.html">Idées de fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Roadmap.html">Feuille de route</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/ROSCon-Content.html">Pourparlers ROSCon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Governance.html">Gouvernance du projet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">Charte du comité de pilotage technique ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">Processus d’admission des candidats ROS 2 TSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">Comment démarrer un groupe de travail communautaire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Marketing.html">Commercialisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Related-Projects.html">Projets liés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Related-Projects/Intel-ROS2-Projects.html">Projets Intel ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Related-Projects/Nvidia-ROS2-Projects.html">Projets NVIDIA ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Citations.html">Citations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../Tutorials.html">Tutoriels</a></li>
          <li class="breadcrumb-item"><a href="../Demos.html">Démos</a></li>
      <li class="breadcrumb-item active">Création d’un abonnement au filtrage de contenu</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/rolling/source/Tutorials/Demos/Content-Filtering-Subscription.rst" class="fa fa-github"> Éditer sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="creating-a-content-filtering-subscription">
<h1>Création d’un abonnement au filtrage de contenu<a class="headerlink" href="#creating-a-content-filtering-subscription" title="Lien permanent vers ce titre"></a></h1>
<p><strong>Objectif :</strong> Créer un abonnement au filtrage de contenu.</p>
<p><strong>Niveau du didacticiel :</strong> Avancé</p>
<p><strong>Durée :</strong> 15 minutes</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table des matières</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">Aperçu</a></p></li>
<li><p><a class="reference internal" href="#rmw-support" id="id3">Assistance RMW</a></p></li>
<li><p><a class="reference internal" href="#installing-the-demo" id="id4">Installation de la démo</a></p></li>
<li><p><a class="reference internal" href="#temperature-filtering-demo" id="id5">Démo de filtrage de température</a></p></li>
<li><p><a class="reference internal" href="#related-content" id="id6">Contenu connexe</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id2">Aperçu</a><a class="headerlink" href="#overview" title="Lien permanent vers ce titre"></a></h2>
<p>Les applications ROS 2 consistent généralement en des sujets pour transmettre des données des éditeurs aux abonnements. Fondamentalement, les abonnements reçoivent toutes les données publiées des éditeurs sur le sujet. Mais parfois, un abonnement peut ne s’intéresser qu’à un sous-ensemble des données envoyées par les éditeurs. Un abonnement de filtrage de contenu permet de recevoir uniquement les données d’intérêt pour l’application.</p>
<p>Dans cette démo, nous expliquerons comment créer un abonnement de filtrage de contenu et comment ils fonctionnent.</p>
</div>
<div class="section" id="rmw-support">
<h2><a class="toc-backref" href="#id3">Assistance RMW</a><a class="headerlink" href="#rmw-support" title="Lien permanent vers ce titre"></a></h2>
<p>Les abonnements au filtrage de contenu nécessitent la prise en charge de la mise en œuvre de RMW.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Statut de prise en charge du filtrage de contenu et de l’abonnement</span><a class="headerlink" href="#id1" title="Lien permanent vers ce tableau"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>rmw_fastrtps</p></td>
<td><p>prise en charge</p></td>
</tr>
<tr class="row-even"><td><p>rmw_connextdds</p></td>
<td><p>prise en charge</p></td>
</tr>
<tr class="row-odd"><td><p>rmw_cyclonedds</p></td>
<td><p>non supporté</p></td>
</tr>
</tbody>
</table>
<p>Actuellement, toutes les implémentations RMW qui prennent en charge les abonnements au filtrage de contenu sont basées sur <a class="reference external" href="https://www.omg.org/omg-dds-portal/">DDS</a>. Cela signifie que les expressions et paramètres de filtrage pris en charge dépendent également de <a class="reference external" href="https://www.omg.org/omg-dds-portal/">DDS</a>, vous pouvez vous référer à la <a class="reference external" href="https://www.omg.org/spec/DDS/1.4/PDF">spécification DDS</a> <code class="docutils literal notranslate"><span class="pre">Annexe</span> <span class="pre">B</span> <span class="pre">-</span> <span class="pre">Syntaxe</span> <span class="pre">pour</span> <span class="pre">les</span> <span class="pre">requêtes</span> <span class="pre">et</span> <span class="pre">les</span> <span class="pre">filtres</span></code> pour plus de détails.</p>
</div>
<div class="section" id="installing-the-demo">
<h2><a class="toc-backref" href="#id4">Installation de la démo</a><a class="headerlink" href="#installing-the-demo" title="Lien permanent vers ce titre"></a></h2>
<p>Consultez les <a class="reference internal" href="../../Installation.html"><span class="doc">instructions d’installation</span></a> pour plus de détails sur l’installation de ROS 2.</p>
<p>Si vous avez installé ROS 2 à partir de packages, assurez-vous que <code class="docutils literal notranslate"><span class="pre">ros-rolling-demo-nodes-cpp</span></code> est installé. Si vous avez téléchargé l’archive ou construit ROS 2 à partir de la source, cela fera déjà partie de l’installation.</p>
</div>
<div class="section" id="temperature-filtering-demo">
<h2><a class="toc-backref" href="#id5">Démo de filtrage de température</a><a class="headerlink" href="#temperature-filtering-demo" title="Lien permanent vers ce titre"></a></h2>
<p>Cette démo montre comment un abonnement de filtrage de contenu peut être utilisé pour ne recevoir que des valeurs de température qui sont hors de la plage de température acceptable, en détectant les urgences. L’abonnement de filtrage de contenu filtre les données de température inintéressantes, de sorte que le rappel d’abonnement n’est pas émis.</p>
<p>Éditeur de filtrage de contenu :</p>
<p><a class="reference external" href="https://github.com/ros2/demos/blob/rolling/demo_nodes_cpp/src/topics/content_filtering_publisher.cpp">https://github.com/ros2/demos/blob/rolling/demo_nodes_cpp/src/topics/content_filtering_publisher.cpp</a></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdio&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;memory&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;utility&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;rclcpp/rclcpp.hpp&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;rclcpp_components/register_node_macro.hpp&quot;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;std_msgs/msg/float32.hpp&quot;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;demo_nodes_cpp/visibility_control.h&quot;</span>

<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="o">::</span><span class="nn">chrono_literals</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">demo_nodes_cpp</span>
<span class="p">{</span>
<span class="c1">// The simulated temperature data starts from -100.0 and ends at 150.0 with a step size of 10.0</span>
<span class="k">constexpr</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">TEMPERATURE_SETTING</span><span class="w"> </span><span class="p">{</span><span class="mf">-100.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">150.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">10.0f</span><span class="p">};</span>

<span class="c1">// Create a ContentFilteringPublisher class that subclasses the generic rclcpp::Node base class.</span>
<span class="c1">// The main function below will instantiate the class as a ROS node.</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ContentFilteringPublisher</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEMO_NODES_CPP_PUBLIC</span>
<span class="w">  </span><span class="k">explicit</span><span class="w"> </span><span class="n">ContentFilteringPublisher</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">options</span><span class="p">)</span>
<span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="s">&quot;content_filtering_publisher&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Create a function for when messages are to be sent.</span>
<span class="w">    </span><span class="n">setvbuf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">_IONBF</span><span class="p">,</span><span class="w"> </span><span class="n">BUFSIZ</span><span class="p">);</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">publish_message</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="p">[</span><span class="k">this</span><span class="p">]()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="n">msg_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_unique</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">msg_</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temperature_</span><span class="p">;</span>
<span class="w">        </span><span class="n">temperature_</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">TEMPERATURE_SETTING</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">temperature_</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">TEMPERATURE_SETTING</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">temperature_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEMPERATURE_SETTING</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">RCLCPP_INFO</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;Publishing: &#39;%f&#39;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">msg_</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// Put the message into a queue to be processed by the middleware.</span>
<span class="w">        </span><span class="c1">// This call is non-blocking.</span>
<span class="w">        </span><span class="n">pub_</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">msg_</span><span class="p">));</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// Create a publisher with a custom Quality of Service profile.</span>
<span class="w">    </span><span class="c1">// Uniform initialization is suggested so it can be trivially changed to</span>
<span class="w">    </span><span class="c1">// rclcpp::KeepAll{} if the user wishes.</span>
<span class="w">    </span><span class="c1">// (rclcpp::KeepLast(7) -&gt; rclcpp::KeepAll() fails to compile)</span>
<span class="w">    </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">QoS</span><span class="w"> </span><span class="nf">qos</span><span class="p">(</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">KeepLast</span><span class="p">{</span><span class="mi">7</span><span class="p">});</span>
<span class="w">    </span><span class="n">pub_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;temperature&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">qos</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Use a timer to schedule periodic message publishing.</span>
<span class="w">    </span><span class="n">timer_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">create_wall_timer</span><span class="p">(</span><span class="mi">1</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">publish_message</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">temperature_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEMPERATURE_SETTING</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="o">&gt;</span><span class="w"> </span><span class="n">msg_</span><span class="p">;</span>
<span class="w">  </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="o">&gt;::</span><span class="n">SharedPtr</span><span class="w"> </span><span class="n">pub_</span><span class="p">;</span>
<span class="w">  </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">TimerBase</span><span class="o">::</span><span class="n">SharedPtr</span><span class="w"> </span><span class="n">timer_</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// namespace demo_nodes_cpp</span>
</pre></div>
</div>
<p>Le filtre de contenu est défini du côté de l’abonnement, les éditeurs n’ont pas besoin d’être configurés de manière particulière pour autoriser le filtrage de contenu. Le nœud <code class="docutils literal notranslate"><span class="pre">ContentFilteringPublisher</span></code> publie des données de température simulées à partir de -100,0 et se terminant à 150,0 avec une taille de pas de 10,0 chaque seconde.</p>
<p>Nous pouvons exécuter la démo en exécutant l’exécutable <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">demo_nodes_cpp</span> <span class="pre">content_filtering_publisher</span></code> (n’oubliez pas de sourcer le fichier d’installation en premier) :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ros2<span class="w"> </span>run<span class="w"> </span>demo_nodes_cpp<span class="w"> </span>content_filtering_publisher
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094594</span>.822753479<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-100.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094595</span>.822723857<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-90.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094596</span>.822752996<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-80.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094597</span>.822752475<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-70.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094598</span>.822721485<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-60.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094599</span>.822696188<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-50.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094600</span>.822699217<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-40.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094601</span>.822744113<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-30.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094602</span>.822694805<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-20.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094603</span>.822735805<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-10.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094604</span>.822722094<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;0.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094605</span>.822699960<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;10.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094606</span>.822748946<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;20.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094607</span>.822694017<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;30.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094608</span>.822708798<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;40.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094609</span>.822692417<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;50.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094610</span>.822696426<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;60.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094611</span>.822751913<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;70.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094612</span>.822692231<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;80.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094613</span>.822745549<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;90.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094614</span>.822701982<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;100.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094615</span>.822691465<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;110.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094616</span>.822649070<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;120.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094617</span>.822693616<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;130.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094618</span>.822691832<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;140.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094619</span>.822688452<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;150.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094620</span>.822645327<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-100.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094621</span>.822689219<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-90.000000&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094622</span>.822694292<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_publisher<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;-80.000000&#39;</span>
<span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p>Abonné FiltrageContenu :</p>
<p><a class="reference external" href="https://github.com/ros2/demos/blob/rolling/demo_nodes_cpp/src/topics/content_filtering_subscriber.cpp">https://github.com/ros2/demos/blob/rolling/demo_nodes_cpp/src/topics/content_filtering_subscriber.cpp</a></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;rclcpp/rclcpp.hpp&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;rclcpp_components/register_node_macro.hpp&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;rcpputils/join.hpp&quot;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;std_msgs/msg/float32.hpp&quot;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;demo_nodes_cpp/visibility_control.h&quot;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">demo_nodes_cpp</span>
<span class="p">{</span>
<span class="c1">// Emergency temperature data less than -30 or greater than 100</span>
<span class="k">constexpr</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">EMERGENCY_TEMPERATURE</span><span class="w"> </span><span class="p">{</span><span class="mf">-30.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">100.0f</span><span class="p">};</span>

<span class="c1">// Create a ContentFilteringSubscriber class that subclasses the generic rclcpp::Node base class.</span>
<span class="c1">// The main function below will instantiate the class as a ROS node.</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ContentFilteringSubscriber</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEMO_NODES_CPP_PUBLIC</span>
<span class="w">  </span><span class="k">explicit</span><span class="w"> </span><span class="n">ContentFilteringSubscriber</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">options</span><span class="p">)</span>
<span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="s">&quot;content_filtering_subscriber&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">setvbuf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">_IONBF</span><span class="p">,</span><span class="w"> </span><span class="n">BUFSIZ</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Create a callback function for when messages are received.</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="p">[</span><span class="k">this</span><span class="p">](</span><span class="k">const</span><span class="w"> </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">EMERGENCY_TEMPERATURE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">EMERGENCY_TEMPERATURE</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">RCLCPP_INFO</span><span class="p">(</span>
<span class="w">            </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span>
<span class="w">            </span><span class="s">&quot;I receive an emergency temperature data: [%f]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">RCLCPP_INFO</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;I receive a temperature data: [%f]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Initialize a subscription with a content filter to receive emergency temperature data that</span>
<span class="w">    </span><span class="c1">// are less than -30 or greater than 100.</span>
<span class="w">    </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">SubscriptionOptions</span><span class="w"> </span><span class="n">sub_options</span><span class="p">;</span>
<span class="w">    </span><span class="n">sub_options</span><span class="p">.</span><span class="n">content_filter_options</span><span class="p">.</span><span class="n">filter_expression</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;data &lt; %0 OR data &gt; %1&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">sub_options</span><span class="p">.</span><span class="n">content_filter_options</span><span class="p">.</span><span class="n">expression_parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">EMERGENCY_TEMPERATURE</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">EMERGENCY_TEMPERATURE</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="n">sub_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;temperature&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">callback</span><span class="p">,</span><span class="w"> </span><span class="n">sub_options</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">sub_</span><span class="o">-&gt;</span><span class="n">is_cft_enabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">RCLCPP_WARN</span><span class="p">(</span>
<span class="w">        </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;Content filter is not enabled since it&#39;s not supported&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">RCLCPP_INFO</span><span class="p">(</span>
<span class="w">        </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span>
<span class="w">        </span><span class="s">&quot;subscribed to topic </span><span class="se">\&quot;</span><span class="s">%s</span><span class="se">\&quot;</span><span class="s"> with content filter options </span><span class="se">\&quot;</span><span class="s">%s, {%s}</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">sub_</span><span class="o">-&gt;</span><span class="n">get_topic_name</span><span class="p">(),</span>
<span class="w">        </span><span class="n">sub_options</span><span class="p">.</span><span class="n">content_filter_options</span><span class="p">.</span><span class="n">filter_expression</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span>
<span class="w">        </span><span class="n">rcpputils</span><span class="o">::</span><span class="n">join</span><span class="p">(</span><span class="n">sub_options</span><span class="p">.</span><span class="n">content_filter_options</span><span class="p">.</span><span class="n">expression_parameters</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">).</span><span class="n">c_str</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">Float32</span><span class="o">&gt;::</span><span class="n">SharedPtr</span><span class="w"> </span><span class="n">sub_</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// namespace demo_nodes_cpp</span>
</pre></div>
</div>
<p>Pour activer le filtrage de contenu, les applications peuvent définir l’expression de filtrage et les paramètres d’expression dans <code class="docutils literal notranslate"><span class="pre">SubscriptionOptions</span></code>. L’application peut également vérifier si le filtrage de contenu est activé sur l’abonnement.</p>
<p>Dans cette démo, le nœud <code class="docutils literal notranslate"><span class="pre">ContentFilteringSubscriber</span></code> crée un abonnement de filtrage de contenu qui reçoit un message uniquement si la valeur de température est inférieure à -30,0 ou supérieure à 100,0.</p>
<p>Comme indiqué précédemment, la prise en charge de l’abonnement au filtrage de contenu dépend de l’implémentation RMW. Les applications peuvent utiliser la méthode <code class="docutils literal notranslate"><span class="pre">is_cft_enabled</span></code> pour vérifier si le filtrage de contenu est réellement activé sur l’abonnement.</p>
<p>Pour tester l’abonnement au filtrage de contenu, exécutons-le :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ros2<span class="w"> </span>run<span class="w"> </span>demo_nodes_cpp<span class="w"> </span>content_filtering_subscriber
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094590</span>.682660703<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>subscribed<span class="w"> </span>to<span class="w"> </span>topic<span class="w"> </span><span class="s2">&quot;/temperature&quot;</span><span class="w"> </span>with<span class="w"> </span>content<span class="w"> </span>filter<span class="w"> </span>options<span class="w"> </span><span class="s2">&quot;data &lt; %0 OR data &gt; %1, {-30.000000, 100.000000}&quot;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094594</span>.823805294<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-100.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094595</span>.823419993<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-90.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094596</span>.823410859<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-80.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094597</span>.823350377<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-70.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094598</span>.823282657<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-60.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094599</span>.823297857<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-50.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094600</span>.823355597<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-40.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094615</span>.823315377<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">110</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094616</span>.823258458<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">120</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094617</span>.823323525<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">130</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094618</span>.823315527<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">140</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094619</span>.823331424<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">150</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094620</span>.823271748<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-100.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094621</span>.823343550<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-90.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094622</span>.823286326<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-80.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094623</span>.823371031<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-70.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094624</span>.823333112<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-60.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094625</span>.823266469<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-50.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651094626</span>.823284093<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-40.000000<span class="o">]</span>
</pre></div>
</div>
<p>Vous devriez voir un message indiquant les options de filtrage de contenu utilisées et les journaux pour chaque message reçu uniquement si la valeur de température est inférieure à -30,0 ou supérieure à 100,0.</p>
<p>Si le filtrage de contenu n’est pas pris en charge par l’implémentation RMW, l’abonnement sera toujours créé sans le filtrage de contenu activé. Nous pouvons essayer cela en exécutant <code class="docutils literal notranslate"><span class="pre">RMW_IMPLEMENTATION=rmw_cyclonedds_cpp</span> <span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">demo_nodes_cpp</span> <span class="pre">content_filtering_publisher</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_cyclonedds_cpp<span class="w"> </span>ros2<span class="w"> </span>run<span class="w"> </span>demo_nodes_cpp<span class="w"> </span>content_filtering_subscriber
<span class="o">[</span>WARN<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096637</span>.893842072<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>Content<span class="w"> </span>filter<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>enabled<span class="w"> </span>since<span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>supported
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096641</span>.246043703<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-100.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096642</span>.245833527<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-90.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096643</span>.245743471<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-80.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096644</span>.245833932<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-70.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096645</span>.245916679<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-60.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096646</span>.245861895<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-50.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096647</span>.245946352<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>an<span class="w"> </span>emergency<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-40.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096648</span>.245934569<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-30.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096649</span>.245877906<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-20.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096650</span>.245939068<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span>-10.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096651</span>.245911450<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096652</span>.245879830<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">10</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096653</span>.245858329<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">20</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096654</span>.245916370<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">30</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096655</span>.245933741<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">40</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096656</span>.245833975<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">50</span>.000000<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1651096657</span>.245971483<span class="o">]</span><span class="w"> </span><span class="o">[</span>content_filtering_subscriber<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>receive<span class="w"> </span>a<span class="w"> </span>temperature<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="m">60</span>.000000<span class="o">]</span>
</pre></div>
</div>
<p>Vous pouvez voir le message <code class="docutils literal notranslate"><span class="pre">Le</span> <span class="pre">filtre</span> <span class="pre">de</span> <span class="pre">contenu</span> <span class="pre">n'est</span> <span class="pre">pas</span> <span class="pre">activé</span></code> car l’implémentation RMW sous-jacente ne prend pas en charge la fonctionnalité, mais la démo crée toujours avec succès l’abonnement normal pour recevoir toutes les données de température.</p>
</div>
<div class="section" id="related-content">
<h2><a class="toc-backref" href="#id6">Contenu connexe</a><a class="headerlink" href="#related-content" title="Lien permanent vers ce titre"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/examples/blob/rolling/rclcpp/topics/minimal_subscriber/content_filtering.cpp">Exemples de filtrage de contenu</a> qui couvre toutes les interfaces pour l’abonnement au filtrage de contenu.</p></li>
<li><p><a class="reference external" href="https://github.com/ros2/design/pull/282">conception de filtrage de contenu PR</a></p></li>
</ul>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="Logging-and-logger-configuration.html" class="btn btn-neutral float-left" title="Enregistrement" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="../Miscellaneous.html" class="btn btn-neutral float-right" title="Divers" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Open Robotics.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>