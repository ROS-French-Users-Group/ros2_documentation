<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Déploiement sur IBM Cloud Kubernetes [contribution de la communauté] &mdash; Documentation ROS 2 documentation </title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Utiliser Eclipse Oxygen avec rviz2 [community-contributed]" href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html" />
    <link rel="prev" title="Divers" href="../Miscellaneous.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Ubuntu-Install-Debians.html">Ubuntu (Debian)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Windows-Install-Binary.html">Windows (binaire)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/RHEL-Install-RPMs.html">RHEL (RPM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Alternatives.html">Alternatives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Ubuntu-Development-Setup.html">gratuit (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Ubuntu-Install-Binary.html">gratuit (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Windows-Development-Setup.html">Windows (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/RHEL-Development-Setup.html">RHEL (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/RHEL-Install-Binary.html">RHEL (binaire)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/macOS-Development-Setup.html">mac OS (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Fedora-Development-Setup.html">Fedora (source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/Alternatives/Latest-Development-Setup.html">Dernier développement (source)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Maintaining-a-Source-Checkout.html">Maintenir la vérification de la source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/Testing.html">Tester avec des binaires de pré-version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Installation/DDS-Implementations.html">Implémentations DDS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Plugins de sécurité Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connect DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Éclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">DDS rapide eProsima</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Releases.html">Distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Humble-Hawksbill.html">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Humble-Hawksbill-Complete-Changelog.html">Journal des modifications de Humble Hawksbill</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Rolling-Ridley.html">Rouler Ridley (<code class="docutils literal notranslate"><span class="pre">rouler</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Development.html">Développement Répartition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Iron-Irwini.html">ROS 2 Iron Irwini (nom de code “iron”; mai 2023)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/End-of-Life.html">Distributions en fin de vie</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Galactic-Geochelone.html">Géochelone Galactique (<code class="docutils literal notranslate"><span class="pre">galactique</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Releases/Galactic-Geochelone-Complete-Changelog.html">Journal des modifications de Galactic Geochelone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Eloquent-Elusor.html">Eloquent Elusor (``éloquent””)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Dashing-Diademata.html">Dashing Diademata (<code class="docutils literal notranslate"><span class="pre">fringant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Crystal-Clemmys.html">Cristal Clemmys (<code class="docutils literal notranslate"><span class="pre">cristal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Bouncy-Bolson.html">Bouncy Bolson (<code class="docutils literal notranslate"><span class="pre">rebondissant</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Release-Ardent-Apalone.html">Apalone ardent (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta3-Overview.html">Bêta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta2-Overview.html">Bêta 2 (<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Beta1-Overview.html">Bêta 1 (<code class="docutils literal notranslate"><span class="pre">Asphalte</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Releases/Alpha-Overview.html">Alphas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Releases/Release-Process.html">Processus de développement d’une version</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Tutorials.html">Tutoriels</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Beginner-CLI-Tools.html">Débutant : outils CLI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Configuring-ROS2-Environment.html">Configuration de l’environnement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">Utiliser <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code> et <code class="docutils literal notranslate"><span class="pre">rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">Comprendre les nœuds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">Comprendre les sujets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">Comprendre les services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">Comprendre les paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">Comprendre les actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> pour afficher les journaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">Nœuds de lancement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">Enregistrement et lecture de données</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Beginner-Client-Libraries.html">Débutant : Bibliothèques clientes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Colcon-Tutorial.html">Utiliser <code class="docutils literal notranslate"><span class="pre">colcon</span></code> pour créer des packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">Créer un espace de travail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">Création d’un paquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Écrire un simple éditeur et abonné (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">Ecrire un service et un client simples (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">Écrire un service et un client simples (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">Création de fichiers msg et srv personnalisés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">Implémentation d’interfaces personnalisées</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">Utiliser des paramètres dans une classe (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">Utiliser des paramètres dans une classe (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">Utiliser <code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> pour identifier les problèmes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Beginner-Client-Libraries/Pluginlib.html">Créer et utiliser des plugins (C++)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Intermediate.html">Intermédiaire</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Rosdep.html">Gestion des dépendances avec rosdep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Creating-an-Action.html">Créer une action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Writing-an-Action-Server-Client/Cpp.html">Ecriture d’un serveur d’action et d’un client (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Writing-an-Action-Server-Client/Py.html">Ecriture d’un serveur d’action et d’un client (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Composition.html">Composer plusieurs nœuds en un seul processus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Monitoring-For-Parameter-Changes-CPP.html">Surveillance des changements de paramètres (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Launch/Launch-Main.html">Lancement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Creating-Launch-Files.html">Création d’un fichier de lancement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Launch-system.html">Intégration des fichiers de lancement dans les packages ROS 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Using-Substitutions.html">Utiliser des substitutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Using-Event-Handlers.html">Utilisation des gestionnaires d’événements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">Gestion de grands projets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Tf2/Tf2-Main.html">tracé</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Introduction-To-Tf2.html">Présentation de <code class="docutils literal notranslate"><span class="pre">tf2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">Écrire un diffuseur statique (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">Écrire un diffuseur statique (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">Écrire un diffuseur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">Ecrire un diffuseur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">Écrire un écouteur (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">Écrire un écouteur (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Adding-A-Frame-Py.html">Ajouter un cadre (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Adding-A-Frame-Cpp.html">Ajouter un cadre (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">Utiliser le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">Utilisation du temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">Voyager dans le temps (Python)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">Voyager dans le temps (C++)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Debugging-Tf2-Problems.html">Débogage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Quaternion-Fundamentals.html">Fondamentaux du quaternion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">Utiliser des types de données tamponnés avec <code class="docutils literal notranslate"><span class="pre">tf2_ros::MessageFilter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/Testing/Testing-Main.html">Essai</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Testing/CLI.html">Exécution de tests dans ROS 2 à partir de la ligne de commande</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/Testing/Python.html">Écrire des tests de base avec Python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediate/URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">Construire un modèle de robot visuel à partir de zéro</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">Construire un modèle de robot mobile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">Ajout de propriétés physiques et de collision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">Utiliser Xacro pour nettoyer votre code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">Utiliser URDF avec <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Advanced.html">Avancé</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">Activation des statistiques de sujet (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Discovery-Server/Discovery-Server.html">Utilisation de Fast DDS Discovery Server comme protocole de découverte [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Allocator-Template-Tutorial.html">Implémentation d’un répartiteur de mémoire personnalisé</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/FastDDS-Configuration.html">Libérer le potentiel du middleware Fast DDS [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">Enregistrer un sac à partir d’un nœud (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">Enregistrer un sac à partir d’un nœud (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Simulators/Simulation-Main.html">Simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Simulators/Webots.html">Mise en place d’une simulation de robot (Webots)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Simulators/Gazebo.html">Mise en place d’une simulation de robot (Gazebo)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced/Security/Security-Main.html">Sécurité</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Introducing-ros2-security.html">Mise en place de la sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/The-Keystore.html">Comprendre le magasin de clés de sécurité</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Security-on-Two.html">Garantir la sécurité sur toutes les machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Examine-Traffic.html">Examen du trafic réseau</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Advanced/Security/Access-Controls.html">Paramétrage des contrôles d’accès</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Demos.html">Démos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Quality-of-Service.html">Utilisation des paramètres de qualité de service pour les réseaux avec perte</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Managed-Nodes.html">Gestion des nœuds avec des cycles de vie gérés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Intra-Process-Communication.html">Mettre en place une communication intra-process efficace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Rosbag-with-ROS1-Bridge.html">Enregistrement et lecture de données avec <code class="docutils literal notranslate"><span class="pre">rosbag</span></code> en utilisant le pont ROS 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Real-Time-Programming.html">Comprendre la programmation temps réel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/dummy-robot-demo.html">Expérimenter avec un robot factice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Logging-and-logger-configuration.html">Enregistrement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Demos/Content-Filtering-Subscription.html">Création d’un abonnement au filtrage de contenu</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../Miscellaneous.html">Divers</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Déploiement sur IBM Cloud Kubernetes [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Utiliser Eclipse Oxygen avec <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> [community-contributed]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Construire un noyau Linux en temps réel [contribution de la communauté]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Building-ROS2-Package-with-eclipse-2021-06.html">Construire un package avec Eclipse 2021-06</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../How-To-Guides.html">Guides pratiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Installation-Troubleshooting.html">Dépannage de l’installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Developing-a-ROS-2-Package.html">Développement d’un package ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Ament-CMake-Documentation.html">documentation utilisateur ament_cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Ament-CMake-Python-Documentation.html">documentation utilisateur ament_cmake_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launch-files-migration-guide.html">Migration des fichiers de lancement de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launch-file-different-formats.html">Utilisation de Python, XML et YAML pour les fichiers de lancement ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Launching-composable-nodes.html">Utilisation du lancement de ROS 2 pour lancer des nœuds composables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Parameters-YAML-files-migration-guide.html">Migration des fichiers de paramètres YAML de ROS 1 vers ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Node-arguments.html">Passer des arguments ROS aux nœuds via la ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Sync-Vs-Async.html">Clients de service synchrones ou asynchrones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/DDS-tuning.html">Informations de réglage DDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2 : Remplacement des politiques de QoS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Working-with-multiple-RMW-implementations.html">Travailler avec plusieurs implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Cross-compilation.html">Compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Releasing/Releasing-a-Package.html">Libérer un paquet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/First-Time-Release.html">Première sortie</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Subsequent-Releases.html">Versions ultérieures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Release-Team-Repository.html">Équipe de publication / Référentiel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/Releasing/Release-Track.html">Piste de sortie</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-Python-Packages.html">Utilisation de packages Python avec ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/RQt-Port-Plugin-Windows.html">Portage des plugins RQt vers Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">Exécution de nœuds ROS 2 dans Docker [contribution de la communauté]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html">Visualiser les données ROS 2 avec Foxglove Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Package-maintainer-guide.html">Guide du responsable du paquet ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Building-a-Custom-Debian-Package.html">Construire un paquet Debian personnalisé</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Building-ROS-2-with-Tracing-Instrumentation.html">Construire ROS 2 avec instrumentation de traçage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Topics-Services-Actions.html">Sujets vs Services vs Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-Variants.html">Utiliser des variantes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-ros2-param.html">Utilisation de l’outil de ligne de commande <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html">Utilisation de <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> avec ROS en amont sur Ubuntu 22.04</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html">Désactivation des messages prêtés sans copie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Installing-on-Raspberry-Pi.html">ROS 2 sur Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/Using-callback-groups.html">Utilisation des groupes de rappel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install.html">Construire RQt à partir de la source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install-MacOS.html">Construire RQt à partir de la source sur macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../How-To-Guides/RQt-Source-Install-Windows10.html">Construire RQt à partir de la source sur Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Concepts.html">Notions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Domain-ID.html">Le ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Different-Middleware-Vendors.html">À propos des différents fournisseurs ROS 2 DDS/RTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Logging.html">À propos de la journalisation et de la configuration de l’enregistreur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Quality-of-Service-Settings.html">À propos des paramètres de qualité de service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-Interfaces.html">À propos des interfaces ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Parameters.html">À propos des paramètres dans ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Executors.html">Exécuteurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Topic-Statistics.html">À propos des statistiques de sujet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Command-Line-Tools.html">Introspection avec des outils en ligne de commande</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-RQt.html">Présentation et utilisation de RQt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Composition.html">À propos de la composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Catment.html">Sur le mélange d’ament et de chaton (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Cross-Compilation.html">À propos de la compilation croisée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Security.html">À propos de la sécurité ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Tf2.html">À propos de TF2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Build-System.html">À propos du système de construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Internal-Interfaces.html">À propos des interfaces ROS 2 internes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-Middleware-Implementations.html">À propos des implémentations de middleware ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Concepts/About-ROS-2-Client-Libraries.html">À propos des bibliothèques clientes ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Contact.html">Contacter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../The-ROS2-Project.html">Le projet ROS 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Contributing.html">Contribuant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Developer-Guide.html">Guide du développeur ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">Style de code et versions linguistiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Quality-Guide.html">Guide qualité : assurer la qualité du code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Migration-Guide.html">Guide de migration depuis ROS 1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Migration-Guide-Python.html">Guide de migration Python depuis ROS 1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Build-Farms.html">Fermes de construction ROS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Trucs et astuces Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">Contribuer à la documentation ROS 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Features.html">Statut des fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Feature-Ideas.html">Idées de fonctionnalités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Roadmap.html">Feuille de route</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/ROSCon-Content.html">Pourparlers ROSCon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Governance.html">Gouvernance du projet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">Charte du comité de pilotage technique ROS 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">Processus d’admission des candidats ROS 2 TSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">Comment démarrer un groupe de travail communautaire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../The-ROS2-Project/Marketing.html">Commercialisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Related-Projects.html">Projets liés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Related-Projects/Intel-ROS2-Projects.html">Projets Intel ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Related-Projects/Nvidia-ROS2-Projects.html">Projets NVIDIA ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Citations.html">Citations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../Tutorials.html">Tutoriels</a></li>
          <li class="breadcrumb-item"><a href="../Miscellaneous.html">Divers</a></li>
      <li class="breadcrumb-item active">Déploiement sur IBM Cloud Kubernetes [contribution de la communauté]</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/rolling/source/Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.rst" class="fa fa-github"> Éditer sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="deploying-on-ibm-cloud-kubernetes-community-contributed">
<h1>Déploiement sur IBM Cloud Kubernetes [contribution de la communauté]<a class="headerlink" href="#deploying-on-ibm-cloud-kubernetes-community-contributed" title="Lien permanent vers ce titre"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table des matières</p>
<ul class="simple">
<li><p><a class="reference internal" href="#about" id="id1">À propos</a></p></li>
<li><p><a class="reference internal" href="#ros2-on-ibm-cloud" id="id2">ROS2 sur IBM Cloud</a></p></li>
<li><p><a class="reference internal" href="#step-1-setting-up-your-system" id="id3">Étape 1 : Configurer votre système</a></p>
<ul>
<li><p><a class="reference internal" href="#a-docker-files" id="id4">a) Fichiers Docker ?</a></p></li>
<li><p><a class="reference internal" href="#b-ros2-image" id="id5">b) Image ROS2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-2-running-the-image-on-ibm-cloud" id="id6">Étape 2 : Exécution de l’image sur IBM Cloud</a></p></li>
<li><p><a class="reference internal" href="#step-3-using-custom-ros2-packages" id="id7">Étape 3 : Utilisation de packages ROS2 personnalisés</a></p>
<ul>
<li><p><a class="reference internal" href="#extra-deleting-docker-images" id="id8">Supplément : suppression des images Docker</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-4-kubernetes" id="id9">Étape 4 : Kubernetes</a></p>
<ul>
<li><p><a class="reference internal" href="#a-creating-the-cluster" id="id10">a) Création du cluster</a></p></li>
<li><p><a class="reference internal" href="#b-deploying-your-docker-image-finally" id="id11">b) Déploiement de votre image Docker <em>Enfin !</em></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-5-using-cli-for-your-docker-image" id="id12">Étape 5 : Utilisation de la CLI pour votre image Docker</a></p></li>
<li><p><a class="reference internal" href="#final-remarks" id="id13">Remarques finales</a></p></li>
</ul>
</div>
<div class="section" id="about">
<h2><a class="toc-backref" href="#id1">À propos</a><a class="headerlink" href="#about" title="Lien permanent vers ce titre"></a></h2>
<p>Cet article décrit comment exécuter ROS2 sur IBM Cloud à l’aide de fichiers Docker. Il donne d’abord un bref aperçu des images Docker et de leur fonctionnement local, puis explore IBM Cloud et comment l’utilisateur peut y déployer ses conteneurs. Ensuite, une brève description de la façon dont l’utilisateur peut utiliser ses propres packages personnalisés pour ROS2 à partir de github sur IBM Cloud est fournie. Une procédure pas à pas expliquant comment créer un cluster et utiliser Kubernetes sur IBM Cloud est fournie et enfin l’image Docker est déployée sur le cluster. Publié à l’origine <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud">ici</a> et <a href="#id1"><span class="problematic" id="id2">`</span></a>ici &lt;<a class="reference external" href="https://medium.com/&#64;mahmoud-nasr/running-ros2-on-ibm-cloud-1b1284cbd487">https://medium.com/&#64;mahmoud-nasr/running-ros2-on-ibm-cloud-1b1284cbd487</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>__.</p>
</div>
<div class="section" id="ros2-on-ibm-cloud">
<h2><a class="toc-backref" href="#id2">ROS2 sur IBM Cloud</a><a class="headerlink" href="#ros2-on-ibm-cloud" title="Lien permanent vers ce titre"></a></h2>
<p>Dans ce didacticiel, nous montrons comment vous pouvez facilement intégrer et exécuter ROS2 sur IBM Cloud avec vos packages personnalisés.</p>
<p>ROS2 est la nouvelle génération de ROS qui donne plus de contrôle sur les formations multi-robots. Avec les progrès de l’informatique en nuage, la robotique en nuage devient de plus en plus importante à l’ère actuelle. Dans ce didacticiel, nous allons passer par une brève introduction sur l’exécution de ROS2 sur IBM Cloud. À la fin du didacticiel, vous serez en mesure de créer vos propres packages dans ROS2 et de les déployer dans le cloud à l’aide de fichiers Docker.</p>
<p>Les instructions suivantes supposent que vous utilisez Linux et que vous avez été testé avec Ubuntu 18.04 (Bionic Beaver).</p>
</div>
<div class="section" id="step-1-setting-up-your-system">
<h2><a class="toc-backref" href="#id3">Étape 1 : Configurer votre système</a><a class="headerlink" href="#step-1-setting-up-your-system" title="Lien permanent vers ce titre"></a></h2>
<p>Avant d’aborder le fonctionnement exact du processus, assurons-nous d’abord que tous les logiciels requis sont correctement installés. Nous vous dirigerons vers les sources appropriées pour configurer votre système et ne mettrons en évidence que les détails qui se rapportent à notre cas d’utilisation.</p>
<div class="section" id="a-docker-files">
<h3><a class="toc-backref" href="#id4">a) Fichiers Docker ?</a><a class="headerlink" href="#a-docker-files" title="Lien permanent vers ce titre"></a></h3>
<p>Les fichiers Docker sont une forme de conteneurs qui peuvent s’exécuter séparément de votre système, de cette façon, vous pouvez configurer potentiellement des centaines de projets différents sans s’affecter les uns les autres. Vous pouvez même configurer différentes versions de Linux sur une seule machine, sans avoir besoin d’une machine virtuelle. Les fichiers Docker ont l’avantage d’économiser de l’espace et d’utiliser uniquement les ressources de votre système lors de l’exécution. De plus, les dockers sont polyvalents et transférables. Ils contiennent tous les prérequis requis pour s’exécuter séparément, ce qui signifie que vous pouvez facilement utiliser un fichier docker pour un système ou un service spécifique sans aucune étape fastidieuse !</p>
<p>Excité encore? Commençons par installer docker sur votre système en suivant le <a class="reference external" href="https://docs.docker.com/get-docker/">lien suivant</a>. À partir du didacticiel, vous devriez avoir effectué quelques vérifications pour vous assurer que Docker est correctement configuré. Juste au cas où, exécutons à nouveau la commande suivante qui utilise l’image docker hello-world :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>hello-world
</pre></div>
</div>
<p>Vous devriez obtenir la sortie suivante :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Hello<span class="w"> </span>from<span class="w"> </span>Docker!
This<span class="w"> </span>message<span class="w"> </span>shows<span class="w"> </span>that<span class="w"> </span>your<span class="w"> </span>installation<span class="w"> </span>appears<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>working<span class="w"> </span>correctly.

To<span class="w"> </span>generate<span class="w"> </span>this<span class="w"> </span>message,<span class="w"> </span>Docker<span class="w"> </span>took<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>steps:
<span class="w"> </span><span class="m">1</span>.<span class="w"> </span>The<span class="w"> </span>Docker<span class="w"> </span>client<span class="w"> </span>contacted<span class="w"> </span>the<span class="w"> </span>Docker<span class="w"> </span>daemon.
<span class="w"> </span><span class="m">2</span>.<span class="w"> </span>The<span class="w"> </span>Docker<span class="w"> </span>daemon<span class="w"> </span>pulled<span class="w"> </span>the<span class="w"> </span><span class="s2">&quot;hello-world&quot;</span><span class="w"> </span>image<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>Docker<span class="w"> </span>Hub.
<span class="w">    </span><span class="o">(</span>amd64<span class="o">)</span>
<span class="w"> </span><span class="m">3</span>.<span class="w"> </span>The<span class="w"> </span>Docker<span class="w"> </span>daemon<span class="w"> </span>created<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>container<span class="w"> </span>from<span class="w"> </span>that<span class="w"> </span>image<span class="w"> </span>which<span class="w"> </span>runs<span class="w"> </span>the
<span class="w">    </span>executable<span class="w"> </span>that<span class="w"> </span>produces<span class="w"> </span>the<span class="w"> </span>output<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>currently<span class="w"> </span>reading.
<span class="w"> </span><span class="m">4</span>.<span class="w"> </span>The<span class="w"> </span>Docker<span class="w"> </span>daemon<span class="w"> </span>streamed<span class="w"> </span>that<span class="w"> </span>output<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>Docker<span class="w"> </span>client,<span class="w"> </span>which<span class="w"> </span>sent<span class="w"> </span>it
<span class="w">    </span>to<span class="w"> </span>your<span class="w"> </span>terminal.

To<span class="w"> </span>try<span class="w"> </span>something<span class="w"> </span>more<span class="w"> </span>ambitious,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>run<span class="w"> </span>an<span class="w"> </span>Ubuntu<span class="w"> </span>container<span class="w"> </span>with:
<span class="w"> </span>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>ubuntu<span class="w"> </span>bash

Share<span class="w"> </span>images,<span class="w"> </span>automate<span class="w"> </span>workflows,<span class="w"> </span>and<span class="w"> </span>more<span class="w"> </span>with<span class="w"> </span>a<span class="w"> </span>free<span class="w"> </span>Docker<span class="w"> </span>ID:
<span class="w"> </span>https://hub.docker.com/

For<span class="w"> </span>more<span class="w"> </span>examples<span class="w"> </span>and<span class="w"> </span>ideas,<span class="w"> </span>visit:
<span class="w"> </span>https://docs.docker.com/get-started/
</pre></div>
</div>
</div>
<div class="section" id="b-ros2-image">
<h3><a class="toc-backref" href="#id5">b) Image ROS2</a><a class="headerlink" href="#b-ros2-image" title="Lien permanent vers ce titre"></a></h3>
<p>ROS <a class="reference external" href="https://discourse.ros.org/t/announcing-official-docker-images-for-ros2/7381/2">a annoncé</a> conteneurs d’images pour plusieurs distributions ROS en janvier 2019. Des instructions plus détaillées sur l’utilisation des images docker ROS2 peuvent être trouvées <a class="reference external" href="https://hub.docker.com/_/ros/">ici</a>.</p>
<p>Passons à cela et passons tout de suite à la vraie affaire; création d’un docker ROS2 local. Nous allons créer notre propre Dockerfile (au lieu d’utiliser une image prête) car nous aurons besoin de cette méthode pour le déploiement sur IBM Cloud. Tout d’abord, nous créons un nouveau répertoire qui contiendra notre Dockerfile et tous les autres fichiers dont nous aurons besoin plus tard et y naviguerons. À l’aide de votre $EDITOR préféré, ouvrez un nouveau fichier nommé <em>Dockerfile</em> (assurez-vous que le nom du fichier est correct) :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>~/ros2_docker

$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/ros2_docker

$<span class="w"> </span><span class="nv">$EDITOR</span><span class="w"> </span>Dockerfile
</pre></div>
</div>
<p>Insérez ce qui suit dans le <em>Dockerfile</em> et enregistrez-le (également trouvé <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/blob/main/dockers/ros2_basic/Dockerfile">ici</a>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>FROM<span class="w"> </span>ros:foxy

<span class="c1"># install ros package</span>
RUN<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>ros-<span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span>-demo-nodes-cpp<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>ros-<span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span>-demo-nodes-py<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/apt/lists/*<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mkdir<span class="w"> </span>/ros2_home

WORKDIR<span class="w"> </span>/ros2_home

<span class="c1"># launch ros package</span>
CMD<span class="w"> </span><span class="o">[</span><span class="s2">&quot;ros2&quot;</span>,<span class="w"> </span><span class="s2">&quot;launch&quot;</span>,<span class="w"> </span><span class="s2">&quot;demo_nodes_cpp&quot;</span>,<span class="w"> </span><span class="s2">&quot;talker_listener.launch.py&quot;</span><span class="o">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>FROM</strong> : crée un calque à partir de l’image Docker ros:foxy</p></li>
<li><p><strong>RUN</strong> : construit votre conteneur en y installant vim et en créant un répertoire appelé /ros2_home</p></li>
<li><p><strong>WORKDIR</strong> : indique au conteneur où le répertoire de travail doit être pour lui</p></li>
</ul>
<p>Bien sûr, vous êtes libre de changer la distribution ROS (<em>foxy</em> est utilisé ici) ou de changer le nom du répertoire. Le fichier docker ci-dessus configure ROS-foxy et installe les nœuds de démonstration pour C++ et Python. Ensuite, il lance un fichier qui exécute un nœud de locuteur et un nœud d’écoute. Nous le verrons en action dans quelques-uns, mais ils agissent de manière très similaire à l’exemple de l’éditeur-abonné trouvé dans le <a class="reference external" href="https://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29">wiki ROS</a></p>
<p>Maintenant, nous sommes prêts à construire l’image docker pour y exécuter ROS2 (oui, c’est SI facile !).</p>
<p><strong>Remarque</strong> : si vous rencontrez des erreurs dues à des privilèges insuffisants ou à une <em>autorisation refusée</em>, essayez d’exécuter la commande avec les privilèges <em>sudo</em> :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>.

<span class="c1"># You will see a bunch of lines that execute the docker file instructions followed by:</span>
Successfully<span class="w"> </span>built<span class="w"> </span>0dc6ce7cb487
</pre></div>
</div>
<p><em>0dc6ce7cb487</em> sera très probablement différent pour vous, alors notez-le et copiez-le quelque part pour référence. Vous pouvez toujours revenir en arrière et vérifier les images docker que vous avez sur votre système en utilisant :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>docker<span class="w"> </span>ps<span class="w"> </span>-as
</pre></div>
</div>
<p>Maintenant, exécutez le fichier docker en utilisant :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>0dc6ce7cb487
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>launch<span class="o">]</span>:<span class="w"> </span>All<span class="w"> </span>log<span class="w"> </span>files<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>found<span class="w"> </span>below<span class="w"> </span>/root/.ros/log/2020-10-28-02-41-45-177546-0b5d9ed123be-1
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>launch<span class="o">]</span>:<span class="w"> </span>Default<span class="w"> </span>logging<span class="w"> </span>verbosity<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>INFO
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker-1<span class="o">]</span>:<span class="w"> </span>process<span class="w"> </span>started<span class="w"> </span>with<span class="w"> </span>pid<span class="w"> </span><span class="o">[</span><span class="m">28</span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener-2<span class="o">]</span>:<span class="w"> </span>process<span class="w"> </span>started<span class="w"> </span>with<span class="w"> </span>pid<span class="w"> </span><span class="o">[</span><span class="m">30</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852907</span>.249886590<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;Hello World: 1&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852907</span>.250964490<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>heard:<span class="w"> </span><span class="o">[</span>Hello<span class="w"> </span>World:<span class="w"> </span><span class="m">1</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852908</span>.249786312<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;Hello World: 2&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852908</span>.250453386<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>heard:<span class="w"> </span><span class="o">[</span>Hello<span class="w"> </span>World:<span class="w"> </span><span class="m">2</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852909</span>.249882257<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;Hello World: 3&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852909</span>.250536089<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>heard:<span class="w"> </span><span class="o">[</span>Hello<span class="w"> </span>World:<span class="w"> </span><span class="m">3</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852910</span>.249845718<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;Hello World: 4&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852910</span>.250509355<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>heard:<span class="w"> </span><span class="o">[</span>Hello<span class="w"> </span>World:<span class="w"> </span><span class="m">4</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852911</span>.249506058<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;Hello World: 5&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852911</span>.250152324<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>heard:<span class="w"> </span><span class="o">[</span>Hello<span class="w"> </span>World:<span class="w"> </span><span class="m">5</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852912</span>.249556670<span class="o">]</span><span class="w"> </span><span class="o">[</span>talker<span class="o">]</span>:<span class="w"> </span>Publishing:<span class="w"> </span><span class="s1">&#39;Hello World: 6&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1603852912</span>.250212678<span class="o">]</span><span class="w"> </span><span class="o">[</span>listener<span class="o">]</span>:<span class="w"> </span>I<span class="w"> </span>heard:<span class="w"> </span><span class="o">[</span>Hello<span class="w"> </span>World:<span class="w"> </span><span class="m">6</span><span class="o">]</span>
</pre></div>
</div>
<p>Si cela fonctionne correctement, vous devriez voir quelque chose de similaire à ce qui est montré ci-dessus. Comme on peut le voir, il y a deux nœuds ROS (un éditeur et un abonné) en cours d’exécution et leur sortie nous est fournie via ROS INFO.</p>
</div>
</div>
<div class="section" id="step-2-running-the-image-on-ibm-cloud">
<h2><a class="toc-backref" href="#id6">Étape 2 : Exécution de l’image sur IBM Cloud</a><a class="headerlink" href="#step-2-running-the-image-on-ibm-cloud" title="Lien permanent vers ce titre"></a></h2>
<p>Les étapes suivantes supposent que vous disposez d’un compte IBM Cloud et que l’interface de ligne de commande ibmcloud est installée. Si ce n’est pas le cas, consultez ce <a class="reference external" href="https://cloud.ibm.com/docs/cli/reference/ibmcloud/download_cli.html">lien</a> pour le faire en premier.</p>
<p>Nous devons également nous assurer que le plug-in CLI pour IBM Cloud Container Registry est installé en exécutant la commande</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>plugin<span class="w"> </span>install<span class="w"> </span>container-registry
</pre></div>
</div>
<p>Ensuite, connectez-vous à votre compte ibmcloud via le terminal :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>login<span class="w"> </span>--sso
</pre></div>
</div>
<p>À partir de là, créons un espace de noms de registre de conteneurs. Assurez-vous d’utiliser un nom unique qui soit également descriptif de ce qu’il est. Ici, j’ai utilisé <em>ros2nasr</em>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>cr<span class="w"> </span>namespace-add<span class="w"> </span>ros2nasr
</pre></div>
</div>
<p>Le cloud IBM propose de nombreux raccourcis qui nous aideraient à mettre immédiatement notre conteneur sur le cloud. La commande ci-dessous crée le conteneur et le balise avec le nom <strong>ros2foxy</strong> et la version de <strong>1</strong>. Assurez-vous d’utiliser le nom de registre correct que vous avez créé et vous êtes libre de modifier le nom du conteneur comme vous le souhaitez. Le <strong>.</strong> à la fin indique que le <em>Dockerfile</em> est dans le répertoire courant (et c’est important), sinon, changez-le pour qu’il pointe vers le répertoire contenant le Dockerfile.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>cr<span class="w"> </span>build<span class="w"> </span>--tag<span class="w"> </span>registry.bluemix.net/ros2nasr/ros2foxy:1<span class="w"> </span>.
</pre></div>
</div>
<p>Vous pouvez maintenant vous assurer que le conteneur a été poussé vers le registre que vous avez créé en exécutant la commande suivante</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>cr<span class="w"> </span>image-list
Listing<span class="w"> </span>images...

REPOSITORY<span class="w">               </span>TAG<span class="w">   </span>DIGEST<span class="w">         </span>NAMESPACE<span class="w">   </span>CREATED<span class="w">         </span>SIZE<span class="w">     </span>SECURITY<span class="w"> </span>STATUS
us.icr.io/ros2nasr/ros2foxy<span class="w">   </span><span class="m">1</span><span class="w">     </span>031be29301e6<span class="w">   </span>ros2nasr<span class="w">    </span><span class="m">36</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span><span class="m">120</span><span class="w"> </span>MB<span class="w">   </span>No<span class="w"> </span>Issues

OK
</pre></div>
</div>
<p>Ensuite, il est important de vous connecter à votre registre pour exécuter l’image docker. Encore une fois, si vous rencontrez une erreur * autorisation refusée <a href="#id1"><span class="problematic" id="id2">*</span></a>, exécutez la commande avec les privilèges sudo. Ensuite, exécutez votre fichier docker comme indiqué ci-dessous.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>cr<span class="w"> </span>login
Logging<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;registry.ng.bluemix.net&#39;</span>...
Logged<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;registry.ng.bluemix.net&#39;</span>.
Logging<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;us.icr.io&#39;</span>...
Logged<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;us.icr.io&#39;</span>.

OK

$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>-it<span class="w"> </span>registry.ng.bluemix.net/ros2nasr/ros2foxy:1
</pre></div>
</div>
<p>Où <em>ros2nasr</em> est le nom du registre que vous avez créé et <em>ros2foxy:1</em> est la balise du conteneur docker et la version comme expliqué précédemment.</p>
<p>Vous devriez maintenant voir votre fichier docker s’exécuter et fournir une sortie similaire à celle que vous avez vue lorsque vous l’avez exécuté localement sur votre machine.</p>
</div>
<div class="section" id="step-3-using-custom-ros2-packages">
<h2><a class="toc-backref" href="#id7">Étape 3 : Utilisation de packages ROS2 personnalisés</a><a class="headerlink" href="#step-3-using-custom-ros2-packages" title="Lien permanent vers ce titre"></a></h2>
<p>Nous avons donc maintenant le pipeline complet qui fonctionne, depuis la création du Dockerfile jusqu’à son déploiement et son fonctionnement sur IBM Cloud. Mais que se passe-t-il si nous voulons utiliser un ensemble personnalisé de packages que nous (ou quelqu’un d’autre) avons créés ?</p>
<p>Eh bien, tout cela a à voir avec la façon dont vous configurez votre Dockerfile. Utilisons l’exemple fourni par ROS2 <a class="reference external" href="https://hub.docker.com/_/ros/">ici</a>. Créez un nouveau répertoire avec un nouveau Dockerfile (ou écrasez celui existant) et ajoutez-y ce qui suit (ou téléchargez le fichier <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/blob/main/dockers/git_pkgs_docker/Dockerfile">ici</a>)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ARG<span class="w"> </span><span class="nv">FROM_IMAGE</span><span class="o">=</span>ros:foxy
ARG<span class="w"> </span><span class="nv">OVERLAY_WS</span><span class="o">=</span>/opt/ros/overlay_ws

<span class="c1"># multi-stage for caching</span>
FROM<span class="w"> </span><span class="nv">$FROM_IMAGE</span><span class="w"> </span>AS<span class="w"> </span>cacher

<span class="c1"># clone overlay source</span>
ARG<span class="w"> </span>OVERLAY_WS
WORKDIR<span class="w"> </span><span class="nv">$OVERLAY_WS</span>/src
RUN<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;\</span>
<span class="s2">repositories: \n\</span>
<span class="s2">  ros2/demos: \n\</span>
<span class="s2">    type: git \n\</span>
<span class="s2">    url: https://github.com/ros2/demos.git \n\</span>
<span class="s2">    version: </span><span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span><span class="s2"> \n\</span>
<span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>../overlay.repos
RUN<span class="w"> </span>vcs<span class="w"> </span>import<span class="w"> </span>./<span class="w"> </span>&lt;<span class="w"> </span>../overlay.repos

<span class="c1"># copy manifests for caching</span>
WORKDIR<span class="w"> </span>/opt
RUN<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/opt<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>find<span class="w"> </span>./<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;package.xml&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>xargs<span class="w"> </span>cp<span class="w"> </span>--parents<span class="w"> </span>-t<span class="w"> </span>/tmp/opt<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>find<span class="w"> </span>./<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;COLCON_IGNORE&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>xargs<span class="w"> </span>cp<span class="w"> </span>--parents<span class="w"> </span>-t<span class="w"> </span>/tmp/opt<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>

<span class="c1"># multi-stage for building</span>
FROM<span class="w"> </span><span class="nv">$FROM_IMAGE</span><span class="w"> </span>AS<span class="w"> </span>builder

<span class="c1"># install overlay dependencies</span>
ARG<span class="w"> </span>OVERLAY_WS
WORKDIR<span class="w"> </span><span class="nv">$OVERLAY_WS</span>
COPY<span class="w"> </span>--from<span class="o">=</span>cacher<span class="w"> </span>/tmp/<span class="nv">$OVERLAY_WS</span>/src<span class="w"> </span>./src
RUN<span class="w"> </span>.<span class="w"> </span>/opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>rosdep<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--from-paths<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>src/ros2/demos/demo_nodes_cpp<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>src/ros2/demos/demo_nodes_py<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--ignore-src<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/apt/lists/*

<span class="c1"># build overlay source</span>
COPY<span class="w"> </span>--from<span class="o">=</span>cacher<span class="w"> </span><span class="nv">$OVERLAY_WS</span>/src<span class="w"> </span>./src
ARG<span class="w"> </span><span class="nv">OVERLAY_MIXINS</span><span class="o">=</span><span class="s2">&quot;release&quot;</span>
RUN<span class="w"> </span>.<span class="w"> </span>/opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>colcon<span class="w"> </span>build<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--packages-select<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>demo_nodes_cpp<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>demo_nodes_py<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--mixin<span class="w"> </span><span class="nv">$OVERLAY_MIXINS</span>

<span class="c1"># source entrypoint setup</span>
ENV<span class="w"> </span>OVERLAY_WS<span class="w"> </span><span class="nv">$OVERLAY_WS</span>
RUN<span class="w"> </span>sed<span class="w"> </span>--in-place<span class="w"> </span>--expression<span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="s1">&#39;$isource &quot;$OVERLAY_WS/install/setup.bash&quot;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>/ros_entrypoint.sh

<span class="c1"># run launch file</span>
CMD<span class="w"> </span><span class="o">[</span><span class="s2">&quot;ros2&quot;</span>,<span class="w"> </span><span class="s2">&quot;launch&quot;</span>,<span class="w"> </span><span class="s2">&quot;demo_nodes_cpp&quot;</span>,<span class="w"> </span><span class="s2">&quot;talker_listener.launch.py&quot;</span><span class="o">]</span>
</pre></div>
</div>
<p>En parcourant les lignes affichées, nous pouvons voir comment nous pouvons ajouter des packages personnalisés à partir de github en 4 étapes :</p>
<ol class="arabic simple">
<li><p>Créez une superposition avec des packages personnalisés clonés à partir de Github :</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ARG<span class="w"> </span>OVERLAY_WS
WORKDIR<span class="w"> </span><span class="nv">$OVERLAY_WS</span>/src
RUN<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;\</span>
<span class="s2">repositories: \n\</span>
<span class="s2">  ros2/demos: \n\</span>
<span class="s2">    type: git \n\</span>
<span class="s2">    url: https://github.com/ros2/demos.git \n\</span>
<span class="s2">    version: </span><span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span><span class="s2"> \n\</span>
<span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>../overlay.repos
RUN<span class="w"> </span>vcs<span class="w"> </span>import<span class="w"> </span>./<span class="w"> </span>&lt;<span class="w"> </span>../overlay.repos
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Installer les dépendances de package à l’aide de rosdep</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install overlay dependencies</span>
ARG<span class="w"> </span>OVERLAY_WS
WORKDIR<span class="w"> </span><span class="nv">$OVERLAY_WS</span>
COPY<span class="w"> </span>--from<span class="o">=</span>cacher<span class="w"> </span>/tmp/<span class="nv">$OVERLAY_WS</span>/src<span class="w"> </span>./src
RUN<span class="w"> </span>.<span class="w"> </span>/opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>rosdep<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--from-paths<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>src/ros2/demos/demo_nodes_cpp<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>src/ros2/demos/demo_nodes_py<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--ignore-src<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/apt/lists/*
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Construisez les packages * dont vous avez besoin *</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># build overlay source</span>
COPY<span class="w"> </span>--from<span class="o">=</span>cacher<span class="w"> </span><span class="nv">$OVERLAY_WS</span>/src<span class="w"> </span>./src
ARG<span class="w"> </span><span class="nv">OVERLAY_MIXINS</span><span class="o">=</span><span class="s2">&quot;release&quot;</span>
RUN<span class="w"> </span>.<span class="w"> </span>/opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>colcon<span class="w"> </span>build<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--packages-select<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>demo_nodes_cpp<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>demo_nodes_py<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--mixin<span class="w"> </span><span class="nv">$OVERLAY_MIXINS</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Exécution du fichier de lancement</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># run launch file</span>
CMD<span class="w"> </span><span class="o">[</span><span class="s2">&quot;ros2&quot;</span>,<span class="w"> </span><span class="s2">&quot;launch&quot;</span>,<span class="w"> </span><span class="s2">&quot;demo_nodes_cpp&quot;</span>,<span class="w"> </span><span class="s2">&quot;talker_listener.launch.py&quot;</span><span class="o">]</span>
</pre></div>
</div>
<p>De même, nous pouvons modifier les packages utilisés, installer leurs dépendances, puis les exécuter.</p>
<p><strong>Retour à IBM Cloud</strong></p>
<p>Avec ce Dockerfile, nous pouvons suivre les mêmes étapes que nous avons suivies auparavant pour le déployer sur IBM Cloud. Puisque nous avons déjà créé notre registre et que nous sommes connectés à IBM Cloud, nous construisons directement notre nouveau Dockerfile. Remarquez comment j’ai gardé la même balise mais changé la version, de cette façon je peux mettre à jour l’image docker créée précédemment. (Vous êtes libre d’en créer un complètement nouveau si vous le souhaitez)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>cr<span class="w"> </span>build<span class="w"> </span>--tag<span class="w"> </span>registry.bluemix.net/ros2nasr/ros2foxy:2<span class="w"> </span>.
</pre></div>
</div>
<p>Ensuite, assurez-vous d’être connecté au registre et exécutez la nouvelle image Docker :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ibmcloud<span class="w"> </span>cr<span class="w"> </span>login
Logging<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;registry.ng.bluemix.net&#39;</span>...
Logged<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;registry.ng.bluemix.net&#39;</span>.
Logging<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;us.icr.io&#39;</span>...
Logged<span class="w"> </span><span class="k">in</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;us.icr.io&#39;</span>.

OK

$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>-it<span class="w"> </span>registry.ng.bluemix.net/ros2nasr/ros2foxy:2
</pre></div>
</div>
<p>Vous devriez voir, encore une fois, la même sortie. Cependant, cette fois, nous l’avons fait via des packages personnalisés de github, ce qui nous permet d’utiliser nos packages créés personnellement pour ROS2 sur IBM Cloud.</p>
<div class="section" id="extra-deleting-docker-images">
<h3><a class="toc-backref" href="#id8">Supplément : suppression des images Docker</a><a class="headerlink" href="#extra-deleting-docker-images" title="Lien permanent vers ce titre"></a></h3>
<p>Comme vous pourriez avoir besoin de supprimer une ou plusieurs images Docker spécifiques d’IBM Cloud, voici comment procéder !</p>
<ol class="arabic simple">
<li><p>Listez toutes les images que vous avez et trouvez toutes celles qui partagent le nom <em>IMAGE</em> correspondant à <em>registry.ng.bluemix.net/ros2nasr/ros2foxy:2</em> (dans mon cas). Supprimez-les ensuite en utilisant leurs <em>NOMS</em></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>rm<span class="w"> </span>your_docker_NAMES
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Supprimez l’image docker d’IBM Cloud en utilisant son nom <em>IMAGE</em></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>rmi<span class="w"> </span>registry.ng.bluemix.net/ros2nasr/ros2foxy:2
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-4-kubernetes">
<h2><a class="toc-backref" href="#id9">Étape 4 : Kubernetes</a><a class="headerlink" href="#step-4-kubernetes" title="Lien permanent vers ce titre"></a></h2>
<div class="section" id="a-creating-the-cluster">
<h3><a class="toc-backref" href="#id10">a) Création du cluster</a><a class="headerlink" href="#a-creating-the-cluster" title="Lien permanent vers ce titre"></a></h3>
<p>Créez un cluster à l’aide de la console. Les instructions se trouvent <a class="reference external" href="https://cloud.ibm.com/docs/containers?topic=containers-clusters#clusters_ui">ici</a>. Les paramètres utilisés sont détaillés ci-dessous. Ce ne sont que des suggestions et peuvent être modifiées si nécessaire. Cependant, assurez-vous de bien comprendre les implications de vos choix :</p>
<ol class="arabic simple">
<li><p>Forfait : <em>Standard</em></p></li>
<li><p>Service d’orchestration : <em>Kubernetes v1.18.10</em></p></li>
<li><p>Infrastructure : <em>Classique</em></p></li>
<li><p>Emplacement:</p></li>
</ol>
<ul class="simple">
<li><p>Groupe de ressources : <em>Par défaut</em></p></li>
<li><p>Géographie : <em>Amérique du Nord</em> (vous êtes libre de changer cela)</p></li>
<li><p>Disponibilité : <em>Zone unique</em> (vous êtes libre de modifier cela, mais assurez-vous de comprendre l’impact de vos choix en consultant la documentation IBM Cloud.)</p></li>
<li><p>Zone de travail : <em>Toronto 01</em> (choisissez l’emplacement qui est physiquement le plus proche de vous)</p></li>
</ul>
<ol class="arabic simple" start="5">
<li><p>Pool de travailleurs :</p></li>
</ol>
<ul class="simple">
<li><p>Virtuel - partagé, Ubuntu 18</p></li>
<li><p>Mémoire : 16 Go</p></li>
<li><p>Nœuds de travail par zone : <em>1</em></p></li>
</ul>
<ol class="arabic simple" start="6">
<li><p>Point de terminaison de service principal : <em>Points de terminaison privés et publics</em></p></li>
<li><p>Détails des ressources (totalement flexibles) :</p></li>
</ol>
<ul class="simple">
<li><p>Nom du cluster : <em>mycluster-tor01-rosibm</em></p></li>
<li><p>Balises : <em>version:1</em></p></li>
</ul>
<p>Après avoir créé votre cluster, vous serez redirigé vers une page qui détaille comment vous pouvez configurer les outils CLI et accéder à votre cluster. Veuillez suivre ces instructions (ou consultez les instructions <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/blob/main/Kubernetes-Cluster-Set-up.md">ici</a>) et attendez que la barre de progression indiquez que les noeuds worker que vous avez créés sont prêts en indiquant <em>Normal</em> à côté du nom du cluster. Vous pouvez également accéder à cet écran à partir d’IBM Cloud Console dans Kubernetes.</p>
</div>
<div class="section" id="b-deploying-your-docker-image-finally">
<h3><a class="toc-backref" href="#id11">b) Déploiement de votre image Docker <em>Enfin !</em></a><a class="headerlink" href="#b-deploying-your-docker-image-finally" title="Lien permanent vers ce titre"></a></h3>
<ol class="arabic simple">
<li><p>Créez un fichier yaml de configuration de déploiement nommé <em>ros2-deployment.yaml</em> à l’aide de votre $EDITOR préféré et insérez-y les éléments suivants :</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apiVersion:<span class="w"> </span>apps/v1
kind:<span class="w"> </span>Deployment
metadata:
<span class="w">  </span>name:<span class="w"> </span>&lt;deployment&gt;
spec:
<span class="w">  </span>replicas:<span class="w"> </span>&lt;number_of_replicas&gt;
<span class="w">  </span>selector:
<span class="w">    </span>matchLabels:
<span class="w">      </span>app:<span class="w"> </span>&lt;app_name&gt;
<span class="w">  </span>template:
<span class="w">    </span>metadata:
<span class="w">      </span>labels:
<span class="w">        </span>app:<span class="w"> </span>&lt;app_name&gt;
<span class="w">    </span>spec:
<span class="w">      </span>containers:
<span class="w">      </span>-<span class="w"> </span>name:<span class="w"> </span>&lt;app_name&gt;
<span class="w">        </span>image:<span class="w"> </span>&lt;region&gt;.icr.io/&lt;namespace&gt;/&lt;image&gt;:&lt;tag&gt;
</pre></div>
</div>
<p>Vous devez remplacer les balises affichées entre <em>« &lt; » « &gt; »</em> comme décrit <a class="reference external" href="https://cloud.ibm.com/docs/containers?topic=containers-images#namespace">ici</a>. Le fichier dans mon cas ressemblerait à ceci:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apiVersion:<span class="w"> </span>apps/v1
kind:<span class="w"> </span>Deployment
metadata:
<span class="w">  </span>name:<span class="w"> </span>ros2-deployment
spec:
<span class="w">  </span>replicas:<span class="w"> </span><span class="m">1</span>
<span class="w">  </span>selector:
<span class="w">    </span>matchLabels:
<span class="w">      </span>app:<span class="w"> </span>ros2-ibmcloud
<span class="w">  </span>template:
<span class="w">    </span>metadata:
<span class="w">      </span>labels:
<span class="w">        </span>app:<span class="w"> </span>ros2-ibmcloud
<span class="w">    </span>spec:
<span class="w">      </span>containers:
<span class="w">      </span>-<span class="w"> </span>name:<span class="w"> </span>ros2-ibmcloud
<span class="w">        </span>image:<span class="w"> </span>us.icr.io/ros2nasr/ros2foxy:2
</pre></div>
</div>
<p>Déployez le fichier à l’aide de la commande suivante</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>ros2-deployment.yaml
deployment.apps/ros2-deployment<span class="w"> </span>created
</pre></div>
</div>
<p>Votre image docker est maintenant entièrement déployée sur votre cluster !</p>
</div>
</div>
<div class="section" id="step-5-using-cli-for-your-docker-image">
<h2><a class="toc-backref" href="#id12">Étape 5 : Utilisation de la CLI pour votre image Docker</a><a class="headerlink" href="#step-5-using-cli-for-your-docker-image" title="Lien permanent vers ce titre"></a></h2>
<ol class="arabic simple">
<li><p>Accédez à votre cluster via la console IBM Cloud Kubernetes.</p></li>
<li><p>Cliquez sur <em>tableau de bord Kubernetes</em> dans le coin supérieur droit de la page.</p></li>
</ol>
<p>Vous devriez maintenant pouvoir voir une liste complète de tous les différents paramètres de votre cluster ainsi que son utilisation du processeur et de la mémoire.</p>
<ol class="arabic simple" start="3">
<li><p>Accédez à <em>Pods</em> et cliquez sur votre déploiement.</p></li>
<li><p>Dans le coin supérieur droit, cliquez sur <em>Exec into pod</em></p></li>
</ol>
<p>Vous êtes maintenant à l’intérieur de votre image docker ! Vous pouvez sourcer votre espace de travail (si nécessaire) et exécuter ROS2 ! Par exemple:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@ros2-deployment-xxxxxxxx:/opt/ros/overlay_ws#<span class="w"> </span>.<span class="w"> </span>install/setup.sh
root@ros2-deployment-xxxxxxxx:/opt/ros/overlay_ws#<span class="w"> </span>ros2<span class="w"> </span>launch<span class="w"> </span>demo_nodes_cpp<span class="w"> </span>talker_listener.launch.py
</pre></div>
</div>
</div>
<div class="section" id="final-remarks">
<h2><a class="toc-backref" href="#id13">Remarques finales</a><a class="headerlink" href="#final-remarks" title="Lien permanent vers ce titre"></a></h2>
<p>À ce stade, vous êtes capable de créer votre propre image docker à l’aide des packages ROS2 sur github. Il est également possible, avec peu de modifications, d’utiliser également les packages ROS2 locaux. Cela pourrait faire l’objet d’un autre article. Cependant, nous vous encourageons à consulter le <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/tree/main/dockers/local_pkgs_docker">Dockerfile suivant</a> qui utilise une copie locale du référentiel de démonstrations. De même, vous pouvez utiliser votre propre package local.</p>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="../Miscellaneous.html" class="btn btn-neutral float-left" title="Divers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html" class="btn btn-neutral float-right" title="Utiliser Eclipse Oxygen avec rviz2 [community-contributed]" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Open Robotics.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>